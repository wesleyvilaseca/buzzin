"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[165],{5905:(l,t,o)=>{o.d(t,{Z:()=>e});const e={props:{display:{required:!0},order:{type:Object,required:!0}},computed:{subtotal:function(){var l,t,o=0;return null===(l=this.order)||void 0===l||null===(t=l.products)||void 0===t||t.map((function(l,t){o+=l.qty*l.price})),o},total:function(){return this.order.total.toLocaleString("pt-br",{minimumFractionDigits:2})}},data:function(){return{status:"",loading:!1,RETIRADA:"Retirada"}},methods:{closeDetails:function(){this.$emit("closeDetails")},updateStatus:function(){var l=this;this.loading=!0,axios.patch("/api/v1/my-orders",{status:this.status,identify:this.order.identify}).then((function(t){return l.$emit("statusUpdated")})).catch((function(l){return alert("error")})).finally((function(){return l.loading=!1}))}},watch:{order:function(){this.status=this.order.status}}}},5441:(l,t,o)=>{o.d(t,{s:()=>V});var e=o(821),d={class:"modal-dialog modal-xl",role:"document"},i={class:"modal-content"},n={class:"modal-header"},a={class:"modal-title",id:"exampleModalLiveLabel"},s={class:"modal-body"},r={class:"row"},u={class:"col-md-7"},c=(0,e._)("label",{for:"status"},"Status:",-1),_=[(0,e.uE)('<option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitado</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',6)],p={class:"col-md-5"},v=["disabled"],m={class:"row"},b={class:"col-md-7"},h={class:"card mt-2"},w={class:"card-header"},f=(0,e._)("br",null,null,-1),y=(0,e._)("br",null,null,-1),g={class:"card-body"},z={class:"table-responsive"},k={class:"table table-condensed"},D=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{scope:"col"},"#"),(0,e._)("th",{scope:"col"},"Produto"),(0,e._)("th",{scope:"col"},"Quantidade"),(0,e._)("th",{scope:"col"},"Valor"),(0,e._)("th",{scope:"col"},"Total")])],-1),U=["src","alt"],C=(0,e._)("td",{colspan:"4",align:"right"},[(0,e._)("strong",null,"Subtotal")],-1),R={colspan:"4",align:"right"},S=(0,e._)("td",{colspan:"4",align:"right"},[(0,e._)("strong",null," Total ")],-1),x={class:"col-md-5"},A={class:"card mt-2"},E=(0,e._)("div",{class:"card-header"},"Dados do cliente",-1),$={class:"card-body"},q={class:"row"},L={class:"col-md-5",style:{"font-size":"0.8rem"}},Z=(0,e._)("br",null,null,-1),M=(0,e._)("br",null,null,-1),P=(0,e._)("br",null,null,-1),T={key:0,class:"col-md-7",style:{"font-size":"0.8rem"}},j=(0,e._)("br",null,null,-1),O=(0,e._)("br",null,null,-1),F=(0,e._)("br",null,null,-1),I=(0,e._)("br",null,null,-1);function V(l,t,o,V,B,H){var K,N,Q,Y,G,J,W,X,ll,tl,ol,el,dl,il,nl;return(0,e.wg)(),(0,e.iD)("div",{id:"exampleModalLive",class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLiveLabel",style:(0,e.j5)({display:o.display})},[(0,e._)("div",d,[(0,e._)("div",i,[(0,e._)("div",n,[(0,e._)("h5",a,"Detalhes do Pedido "+(0,e.zw)(o.order.identify),1),(0,e._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return H.closeDetails&&H.closeDetails.apply(H,arguments)})})]),(0,e._)("div",s,[(0,e._)("form",{action:"#",method:"POST",class:"form form-inline",onSubmit:t[2]||(t[2]=(0,e.iM)((function(){return H.updateStatus&&H.updateStatus.apply(H,arguments)}),["prevent"]))},[(0,e._)("div",r,[(0,e._)("div",u,[c,(0,e.wy)((0,e._)("select",{name:"status",class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=function(l){return B.status=l})},_,512),[[e.bM,B.status]])]),(0,e._)("div",p,[(0,e._)("button",{type:"submit",class:"btn btn-sm btn-info mt-4",disabled:B.loading}," Atualizar Status ",8,v)])])],32),(0,e._)("div",m,[(0,e._)("div",b,[(0,e._)("div",h,[(0,e._)("div",w,[(0,e.Uk)(" Número do pedido: "+(0,e.zw)(o.order.identify)+" ",1),f,(0,e.Uk)(" Data: "+(0,e.zw)(o.order.date_br)+" ",1),y,(0,e.Uk)(" Status: "+(0,e.zw)(o.order.status_label),1)]),(0,e._)("div",g,[(0,e._)("div",z,[(0,e._)("table",k,[D,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(o.order.products,(function(l,t){return(0,e.wg)(),(0,e.iD)("tr",{key:t},[(0,e._)("td",null,[(0,e._)("img",{src:l.image,alt:l.title,style:{"max-width":"50px"}},null,8,U)]),(0,e._)("td",null,(0,e.zw)(l.title),1),(0,e._)("td",null,(0,e.zw)(l.qty),1),(0,e._)("td",null,"R$ "+(0,e.zw)(l.price),1),(0,e._)("td",null,"R$ "+(0,e.zw)(l.qty*l.price),1)])})),128))]),(0,e._)("tfoot",null,[(0,e._)("tr",null,[C,(0,e._)("td",null," R$ "+(0,e.zw)(H.subtotal),1)]),(0,e._)("tr",null,[(0,e._)("td",R,[(0,e._)("strong",null,(0,e.zw)(null===(K=o.order)||void 0===K||null===(N=K.shipping_method)||void 0===N?void 0:N.description),1)]),(0,e._)("td",null," R$ "+(0,e.zw)(null===(Q=o.order)||void 0===Q||null===(Y=Q.shipping_method)||void 0===Y?void 0:Y.price),1)]),(0,e._)("tr",null,[S,(0,e._)("td",null," R$ "+(0,e.zw)(o.order.total),1)])])])])])])]),(0,e._)("div",x,[(0,e._)("div",A,[E,(0,e._)("div",$,[(0,e._)("div",q,[(0,e._)("div",L,[(0,e.Uk)(" Cliente: "+(0,e.zw)(null===(G=o.order.client)||void 0===G?void 0:G.name)+" ",1),Z,(0,e.Uk)(" Email: "+(0,e.zw)(null===(J=o.order.client)||void 0===J?void 0:J.email)+" ",1),M,(0,e.Uk)(" Celular: "+(0,e.zw)(o.order.client_mobile_phone)+" ",1),P,(0,e.Uk)(" CPF: "+(0,e.zw)(o.order.client_doc),1)]),(null===(W=o.order)||void 0===W||null===(X=W.shipping_method)||void 0===X?void 0:X.description)!==B.RETIRADA?((0,e.wg)(),(0,e.iD)("div",T,[(0,e.Uk)(" Endereço: "+(0,e.zw)(null===(ll=o.order.client_address)||void 0===ll?void 0:ll.address)+" - nº: "+(0,e.zw)(null===(tl=o.order.client_address)||void 0===tl?void 0:tl.number),1),j,(0,e.Uk)(" Complemento: "+(0,e.zw)(null===(ol=o.order.client_address)||void 0===ol?void 0:ol.complement)+" ",1),O,(0,e.Uk)(" Bairro: "+(0,e.zw)(null===(el=o.order.client_address)||void 0===el?void 0:el.district)+" ",1),F,(0,e.Uk)(" CEP: "+(0,e.zw)(null===(dl=o.order.client_address)||void 0===dl?void 0:dl.zip_code)+" ",1),I,(0,e.Uk)(" "+(0,e.zw)(null===(il=o.order.client_address)||void 0===il?void 0:il.city)+" - "+(0,e.zw)(null===(nl=o.order.client_address)||void 0===nl?void 0:nl.state),1)])):(0,e.kq)("",!0)])])])])])])])])],4)}},3744:(l,t)=>{t.Z=(l,t)=>{const o=l.__vccOpts||l;for(const[l,e]of t)o[l]=e;return o}},5165:(l,t,o)=>{o.r(t),o.d(t,{default:()=>i});var e=o(7541),d=o(4258);const i=(0,o(3744).Z)(d.Z,[["render",e.s]])},4258:(l,t,o)=>{o.d(t,{Z:()=>e.Z});var e=o(5905)},7541:(l,t,o)=>{o.d(t,{s:()=>e.s});var e=o(5441)}}]);