"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[105],{1053:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(8874);const o={props:{tenant:Object,plan:Object},components:{},created:function(){var e=this,t=document.createElement("script");t.src="https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js",t.addEventListener("load",(function(){window.Mercadopago.setPublishableKey(e.tenant.mpkey)})),document.body.appendChild(t);var a=document.querySelector("iframe");a&&(document.body.removeChild(a),document.body.removeChild(t))},mounted:function(){},data:function(){return{loadPayment:!1,firstname:"",lastname:"",cpf:"",email:"",errors:{cpf:"",firsname:"",lastname:"",email:""},qrcode:{}}},computed:{},methods:{pay:function(e,t){var a=this;this.reset(),this.loadPayment=!0,axios.post("/api/v1/pix",{first_name:this.firstname,last_name:this.lastname,plan_id:this.plan.id,payment_method_id:"pix",email:this.email,cpf:this.cpf.replace(/[^a-zA-Z0-9]/g,"")}).then((function(e){var t=e.data;r.Am.success("Pix gerado com sucesso",{autoClose:3e3}),a.qrcode=t.data})).catch((function(e){a.clearCardForm();var t=e.response;a.errors=Object.assign(a.errors,t.data.errors),r.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){a.loadPayment=!1}))},validateForm:function(){var e;return this.firstname?this.lastname?this.email?this.cpf?(null===(e=this.cpf)||void 0===e?void 0:e.length)<14?(this.canSaveAddress=!1,this.errors.cpf=["A quantida de caracteres informádo é inválido"]):void(this.canSaveAddress=!0):(this.canSaveAddress=!1,this.errors.cpf=["O CPF é um campo obrigatório"]):(this.canSave=!1,this.errors.district=["O email é um campo obrigatório"]):(this.canSave=!1,this.errors.city=["O sobrenome é um campo obrigatório"]):(this.canSave=!1,this.errors.state=["O nome é um campo obrigatório"])},clearCardForm:function(){this.loadPayment=!1,this.firstname="",this.lastname="",this.cpf="",this.email=""},reset:function(){this.errors.cpf=""}},watch:{}}},7750:(e,t,a)=>{a.d(t,{s:()=>z});var r=a(821),o={id:"pay"},s={key:0,class:"row"},i={class:"form-group mt-2 col-md-12"},n=(0,r._)("label",{class:"mb-1"}," Nome ",-1),c={key:0,class:"form-text text-danger"},l={class:"form-group mt-2 col-md-12"},m=(0,r._)("label",{class:"mb-1"}," Sobrenome ",-1),d={key:0,class:"form-text text-danger"},p={class:"form-group mt-2 col-md-12"},u=(0,r._)("label",{class:"mb-1"},"EMAIL:",-1),f={key:0,class:"form-text text-danger"},h={class:"form-group mt-2 col-md-12"},v=(0,r._)("label",{class:"mb-1"},"CPF:",-1),y={key:0,class:"form-text text-danger"},b=(0,r._)("input",{id:"docType",value:"CPF","data-checkout":"docType",type:"hidden"},null,-1),g=["value"],_={class:"text-right mt-2 d-grid gap-2"},w=["disabled"],x={key:1},k={class:"qrcode text-center p-2"},C=(0,r._)("div",{class:"title"},"Qrcode",-1),q={class:"image"},P=["src"],F={class:"copie"},A={class:"mb-3"},O=(0,r._)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Copie:",-1),S={class:"form-control",id:"exampleFormControlTextarea1",rows:"6",readonly:""};function z(e,t,a,z,D,Z){var j,T=(0,r.Q2)("mask");return(0,r.wg)(),(0,r.iD)("form",o,[null!==(j=D.qrcode)&&void 0!==j&&j.qrcode64?((0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("div",k,[C,(0,r._)("div",q,[(0,r._)("img",{src:"data:image/jpeg;base64,".concat(D.qrcode.qrcode64),style:{"max-width":"300px"},id:"base64image"},null,8,P)])]),(0,r._)("div",F,[(0,r._)("div",A,[O,(0,r._)("textarea",S,(0,r.zw)(D.qrcode.qrcode),1)])])])):((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",i,[n,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return D.firstname=e}),class:"form-control form-control-sm"},null,512),[[r.nr,D.firstname]]),""!=D.errors.firsname?((0,r.wg)(),(0,r.iD)("div",c,(0,r.zw)(e.firsname.cpf[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",l,[m,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return D.lastname=e}),class:"form-control form-control-sm"},null,512),[[r.nr,D.lastname]]),""!=D.errors.lastname?((0,r.wg)(),(0,r.iD)("div",d,(0,r.zw)(D.lastname.cpf[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",p,[u,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return D.email=e}),class:"form-control form-control-sm"},null,512),[[r.nr,D.email]]),""!=D.errors.email?((0,r.wg)(),(0,r.iD)("div",f,(0,r.zw)(D.errors.email[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",h,[v,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return D.cpf=e}),class:"form-control form-control-sm"},null,512),[[r.nr,D.cpf],[T,"###.###.###-##"]]),""!=D.errors.cpf?((0,r.wg)(),(0,r.iD)("div",y,(0,r.zw)(D.errors.cpf[0]||""),1)):(0,r.kq)("",!0),b,(0,r._)("input",{id:"docNumber",value:D.cpf,"data-checkout":"docNumber",type:"hidden"},null,8,g)]),(0,r._)("div",_,[(0,r._)("button",{type:"submit",id:"form-checkout__submit",class:"btn btn-success",disabled:D.loadPayment,onClick:t[4]||(t[4]=(0,r.iM)((function(){return Z.pay&&Z.pay.apply(Z,arguments)}),["prevent"]))},(0,r.zw)(D.loadPayment?"Processando...":"Pagar"),9,w)])]))])}},3744:(e,t)=>{t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,r]of t)a[e]=r;return a}},105:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var r=a(462),o=a(5696);const s=(0,a(3744).Z)(o.Z,[["render",r.s]])},5696:(e,t,a)=>{a.d(t,{Z:()=>r.Z});var r=a(1053)},462:(e,t,a)=>{a.d(t,{s:()=>r.s});var r=a(7750)}}]);