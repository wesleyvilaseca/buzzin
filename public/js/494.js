"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[494],{5371:(e,r,o)=>{o.d(r,{Z:()=>a});var n=o(3645),t=o.n(n)()((function(e){return e[1]}));t.push([e.id,".save_button[data-v-2e871de6]{background:var(--2b78ed56)!important;border-radius:25px!important;color:var(--1ab54360)!important}.save_button[data-v-2e871de6]:hover{background:var(--5a34a1d2)!important}",""]);const a=t},3744:(e,r)=>{r.Z=(e,r)=>{const o=e.__vccOpts||e;for(const[e,n]of r)o[e]=n;return o}},6494:(e,r,o)=>{o.r(r),o.d(r,{default:()=>Y});var n=o(821),t=function(e){return(0,n.dD)("data-v-2e871de6"),e=e(),(0,n.Cn)(),e},a={class:"container pt-5 pb-3"},s=t((function(){return(0,n._)("div",{class:"my-4"},[(0,n._)("h4",{class:"title-tenant"},"Minha conta")],-1)})),i={class:"my-orders my-4"},c={class:"row"},l={class:"col-md-7"},u={class:"card p-3"},m={class:"form-group mt-2"},d=t((function(){return(0,n._)("label",null,"Nome:",-1)})),f={key:0,class:"form-text text-danger"},p={class:"form-group mt-2"},h=t((function(){return(0,n._)("label",null,"Email: *",-1)})),v={class:"form-group mt-2"},w=t((function(){return(0,n._)("label",null,"Celular: *",-1)})),_={key:0,class:"form-text text-danger"},b={class:"form-group mt-2"},y=t((function(){return(0,n._)("label",null,"CPF: *",-1)})),g={key:0,class:"form-text text-danger"},S={class:"d-flex justify-content-end"},k=["disabled"],P={key:0},A={key:1},j={class:"col-md-5"},O={class:"card p-3"},C={class:"form-group mt-2"},x=t((function(){return(0,n._)("label",null,"Nova senha:",-1)})),D={key:0,class:"form-text text-danger"},F={class:"form-group mt-2"},U=t((function(){return(0,n._)("label",null,"Confirme a nova senha:",-1)})),z={key:0,class:"form-text text-danger"},V={class:"d-flex justify-content-end"},q=["disabled"],I={key:0},Z={key:1};var E=o(894),M=o(8874);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function R(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,n)}return o}function Q(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?R(Object(o),!0).forEach((function(r){T(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function T(e,r,o){return(r=function(e){var r=function(e,r){if("object"!==N(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,r||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===N(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}var B={props:[],components:{},data:function(){return{loading:!1,canSaveAccount:!1,form:{name:"",email:"",mobile_phone:"",cpf:""},formPassword:{new_password:"",new_password_confirm:""},errors:{name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}},computed:Q({},(0,E.rn)({paleta:function(e){return e.layout.paleta},me:function(e){return e.auth.me}})),created:function(){},mounted:function(){},methods:Q(Q({},(0,E.nv)(["updateAccount","updatePassword"])),{},{updateC:function(){var e=this;if(this.reset(),this.validateForm(),this.canSaveAccount){this.loading=!0;var r={name:this.form.name,email:this.form.email,mobile_phone:this.encode(this.form.mobile_phone),cpf:this.encode(this.form.cpf)};this.updateAccount(r).then((function(){M.Am.success("Conta atualizado com sucesso",{autoClose:3e3})})).catch((function(r){var o=r.response;e.errors=Object.assign(e.errors,o.data.errors),M.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1}))}},updatePasswordAccoutn:function(){var e=this;this.reset(),this.validateForm(),this.canSaveAccount&&(this.loading=!0,this.updatePassword(this.formPassword).then((function(){M.Am.success("Senha atualizado com sucesso",{autoClose:3e3})})).catch((function(r){var o=r.response;e.errors=Object.assign(e.errors,o.data.errors),M.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1})))},validadeFormPassword:function(){if(this.form.new_password.length<8)return this.canSaveAccount=!1,this.errors.new_password=["A senha precisa ter no mínimo 8 caracteres"];this.form.new_password!==this.form.new_password_confirm&&(this.canSaveAccount=!1,this.errors.new_password=["A senha e confirmação da senha precisam ser iguais"],this.errors.new_password_confirm=["A senha e confirmação da senha precisam ser iguais"]),this.canSaveAccount=!0},validateForm:function(){return this.form.mobile_phone!==this.decode(this.me.mobile_phone)&&this.form.mobile_phone.length<15?(this.canSaveAccount=!1,this.errors.mobile_phone=["Informe um tefone celular válido"]):this.form.name!==this.me.name&&this.form.name.length<3?(this.canSaveAccount=!1,this.errors.name=["Informe um nome válido"]):void(this.canSaveAccount=!0)},b64:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,r){return String.fromCharCode("0x"+r)})))},b64D:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},reverse:function(e){return e.split("").reverse().join("")},decode:function(e){e=this.reverse(e);for(var r=0;10!==r;)e=this.b64D(e),r++;return e},encode:function(e){for(var r=0;10!==r;)e=this.b64(e),r++;return this.reverse(e)},reset:function(){this.errors={name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}}),watch:{me:function(){this.form.name=this.me.name,this.form.email=this.me.email,this.form.mobile_phone=this.decode(this.me.mobile_phone),this.form.cpf=this.decode(this.me.doc)}}},G=function(){(0,n.sj)((function(e){return{"2b78ed56":e.paleta.btn_color,"1ab54360":e.paleta.btn_color_letter,"5a34a1d2":e.paleta.btn_color_hover}}))},H=B.setup;B.setup=H?function(e,r){return G(),H(e,r)}:G;const J=B;var K=o(3379),L=o.n(K),W=o(5371),X={insert:"head",singleton:!1};L()(W.Z,X);W.Z.locals;const Y=(0,o(3744).Z)(J,[["render",function(e,r,o,t,E,M){var N=(0,n.Q2)("mask");return(0,n.wg)(),(0,n.iD)("div",a,[s,(0,n._)("div",i,[(0,n._)("div",c,[(0,n._)("div",l,[(0,n._)("div",u,[(0,n._)("div",m,[d,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=function(r){return e.form.name=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.form.name]]),""!=e.errors.name?((0,n.wg)(),(0,n.iD)("div",f,(0,n.zw)(e.errors.name[0]||""),1)):(0,n.kq)("",!0)]),(0,n._)("div",p,[h,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=function(r){return e.form.email=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.form.email]])]),(0,n._)("div",v,[w,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=function(r){return e.form.mobile_phone=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.form.mobile_phone],[N,"(##) #####-####"]]),""!=e.errors.mobile_phone?((0,n.wg)(),(0,n.iD)("div",_,(0,n.zw)(e.errors.mobile_phone[0]||""),1)):(0,n.kq)("",!0)]),(0,n._)("div",b,[y,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=function(r){return e.form.cpf=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.form.cpf],[N,"###.###.###-##"]]),""!=e.errors.cpf?((0,n.wg)(),(0,n.iD)("div",g,(0,n.zw)(e.errors.cpf[0]||""),1)):(0,n.kq)("",!0)]),(0,n._)("div",S,[(0,n._)("button",{type:"button",class:"btn save_button mt-2",onClick:r[4]||(r[4]=(0,n.iM)((function(e){return M.updateC()}),["prevent"])),disabled:e.loading},[e.loading?((0,n.wg)(),(0,n.iD)("span",P,"Salvando...")):((0,n.wg)(),(0,n.iD)("span",A," Salvar"))],8,k)])])]),(0,n._)("div",j,[(0,n._)("div",O,[(0,n._)("div",C,[x,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":r[5]||(r[5]=function(r){return e.formPassword.new_password=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.formPassword.new_password]]),""!=e.errors.new_password?((0,n.wg)(),(0,n.iD)("div",D,(0,n.zw)(e.errors.new_password[0]||""),1)):(0,n.kq)("",!0)]),(0,n._)("div",F,[U,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":r[6]||(r[6]=function(r){return e.formPassword.new_password_confirm=r}),class:"form-control form-control-sm"},null,512),[[n.nr,e.formPassword.new_password_confirm]]),""!=e.errors.new_password_confirm?((0,n.wg)(),(0,n.iD)("div",z,(0,n.zw)(e.errors.new_password_confirm[0]||""),1)):(0,n.kq)("",!0)]),(0,n._)("div",V,[(0,n._)("button",{type:"button",class:"btn save_button mt-2",onClick:r[7]||(r[7]=(0,n.iM)((function(e){return M.updatePasswordAccoutn()}),["prevent"])),disabled:e.loading},[e.loading?((0,n.wg)(),(0,n.iD)("span",I,"Salvando...")):((0,n.wg)(),(0,n.iD)("span",Z," Salvar"))],8,q)])])])])])])}],["__scopeId","data-v-2e871de6"]])}}]);