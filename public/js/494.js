"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[494],{5371:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(3645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,".save_button[data-v-2e871de6]{background:var(--2b78ed56)!important;border-radius:25px!important;color:var(--1ab54360)!important}.save_button[data-v-2e871de6]:hover{background:var(--5a34a1d2)!important}",""]);const a=o},3645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);r&&o[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},3379:(e,n,t)=>{var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),s=[];function i(e){for(var n=-1,t=0;t<s.length;t++)if(s[t].identifier===e){n=t;break}return n}function c(e,n){for(var t={},r=[],o=0;o<e.length;o++){var a=e[o],c=n.base?a[0]+n.base:a[0],u=t[c]||0,l="".concat(c," ").concat(u);t[c]=u+1;var f=i(l),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(s[f].references++,s[f].updater(d)):s.push({identifier:l,updater:v(d,n),references:1}),r.push(l)}return r}function u(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var l,f=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function d(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(n,o);else{var a=document.createTextNode(o),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(a,s[n]):e.appendChild(a)}}function m(e,n,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function v(e,n){var t,r,o;if(n.singleton){var a=h++;t=p||(p=u(n)),r=d.bind(null,t,a,!1),o=d.bind(null,t,a,!0)}else t=u(n),r=m.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var t=c(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=i(t[r]);s[o].references--}for(var a=c(e,n),u=0;u<t.length;u++){var l=i(t[u]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}t=a}}}},3744:(e,n)=>{n.Z=(e,n)=>{const t=e.__vccOpts||e;for(const[e,r]of n)t[e]=r;return t}},6494:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Y});var r=t(821),o=function(e){return(0,r.dD)("data-v-2e871de6"),e=e(),(0,r.Cn)(),e},a={class:"container pt-5 pb-3"},s=o((function(){return(0,r._)("div",{class:"my-4"},[(0,r._)("h4",{class:"title-tenant"},"Minha conta")],-1)})),i={class:"my-orders my-4"},c={class:"row"},u={class:"col-md-7"},l={class:"card p-3"},f={class:"form-group mt-2"},d=o((function(){return(0,r._)("label",null,"Nome:",-1)})),m={key:0,class:"form-text text-danger"},p={class:"form-group mt-2"},h=o((function(){return(0,r._)("label",null,"Email: *",-1)})),v={class:"form-group mt-2"},b=o((function(){return(0,r._)("label",null,"Celular: *",-1)})),w={key:0,class:"form-text text-danger"},_={class:"form-group mt-2"},y=o((function(){return(0,r._)("label",null,"CPF: *",-1)})),g={key:0,class:"form-text text-danger"},S={class:"d-flex justify-content-end"},C=["disabled"],j={key:0},k={key:1},A={class:"col-md-5"},x={class:"card p-3"},O={class:"form-group mt-2"},P=o((function(){return(0,r._)("label",null,"Nova senha:",-1)})),D={key:0,class:"form-text text-danger"},F={class:"form-group mt-2"},M=o((function(){return(0,r._)("label",null,"Confirme a nova senha:",-1)})),U={key:0,class:"form-text text-danger"},E={class:"d-flex justify-content-end"},N=["disabled"],I={key:0},T={key:1};var z=t(3907),q=t(8874);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){B(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==V(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===V(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var L={props:[],components:{},data:function(){return{loading:!1,canSaveAccount:!1,form:{name:"",email:"",mobile_phone:"",cpf:""},formPassword:{new_password:"",new_password_confirm:""},errors:{name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}},computed:R({},(0,z.rn)({paleta:function(e){return e.layout.paleta},me:function(e){return e.auth.me}})),created:function(){},mounted:function(){},methods:R(R({},(0,z.nv)(["updateAccount","updatePassword"])),{},{updateC:function(){var e=this;if(this.reset(),this.validateForm(),this.canSaveAccount){this.loading=!0;var n={name:this.form.name,email:this.form.email,mobile_phone:this.encode(this.form.mobile_phone),cpf:this.encode(this.form.cpf)};this.updateAccount(n).then((function(){q.Am.success("Conta atualizado com sucesso",{autoClose:3e3})})).catch((function(n){var t=n.response;e.errors=Object.assign(e.errors,t.data.errors),q.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1}))}},updatePasswordAccoutn:function(){var e=this;this.reset(),this.validateForm(),this.canSaveAccount&&(this.loading=!0,this.updatePassword(this.formPassword).then((function(){q.Am.success("Senha atualizado com sucesso",{autoClose:3e3})})).catch((function(n){var t=n.response;e.errors=Object.assign(e.errors,t.data.errors),q.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1})))},validadeFormPassword:function(){if(this.form.new_password.length<8)return this.canSaveAccount=!1,this.errors.new_password=["A senha precisa ter no mínimo 8 caracteres"];this.form.new_password!==this.form.new_password_confirm&&(this.canSaveAccount=!1,this.errors.new_password=["A senha e confirmação da senha precisam ser iguais"],this.errors.new_password_confirm=["A senha e confirmação da senha precisam ser iguais"]),this.canSaveAccount=!0},validateForm:function(){return this.form.mobile_phone!==this.decode(this.me.mobile_phone)&&this.form.mobile_phone.length<15?(this.canSaveAccount=!1,this.errors.mobile_phone=["Informe um tefone celular válido"]):this.form.name!==this.me.name&&this.form.name.length<3?(this.canSaveAccount=!1,this.errors.name=["Informe um nome válido"]):void(this.canSaveAccount=!0)},b64:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode("0x"+n)})))},b64D:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},reverse:function(e){return e.split("").reverse().join("")},decode:function(e){e=this.reverse(e);for(var n=0;10!==n;)e=this.b64D(e),n++;return e},encode:function(e){for(var n=0;10!==n;)e=this.b64(e),n++;return this.reverse(e)},reset:function(){this.errors={name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}}),watch:{me:function(){this.form.name=this.me.name,this.form.email=this.me.email,this.form.mobile_phone=this.decode(this.me.mobile_phone),this.form.cpf=this.decode(this.me.doc)}}},H=function(){(0,r.sj)((function(e){return{"2b78ed56":e.paleta.btn_color,"1ab54360":e.paleta.btn_color_letter,"5a34a1d2":e.paleta.btn_color_hover}}))},J=L.setup;L.setup=J?function(e,n){return H(),J(e,n)}:H;const Q=L;var G=t(3379),K=t.n(G),W=t(5371),X={insert:"head",singleton:!1};K()(W.Z,X);W.Z.locals;const Y=(0,t(3744).Z)(Q,[["render",function(e,n,t,o,z,q){var V=(0,r.Q2)("mask");return(0,r.wg)(),(0,r.iD)("div",a,[s,(0,r._)("div",i,[(0,r._)("div",c,[(0,r._)("div",u,[(0,r._)("div",l,[(0,r._)("div",f,[d,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.form.name=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.form.name]]),""!=e.errors.name?((0,r.wg)(),(0,r.iD)("div",m,(0,r.zw)(e.errors.name[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",p,[h,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=function(n){return e.form.email=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.form.email]])]),(0,r._)("div",v,[b,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=function(n){return e.form.mobile_phone=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.form.mobile_phone],[V,"(##) #####-####"]]),""!=e.errors.mobile_phone?((0,r.wg)(),(0,r.iD)("div",w,(0,r.zw)(e.errors.mobile_phone[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",_,[y,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=function(n){return e.form.cpf=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.form.cpf],[V,"###.###.###-##"]]),""!=e.errors.cpf?((0,r.wg)(),(0,r.iD)("div",g,(0,r.zw)(e.errors.cpf[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",S,[(0,r._)("button",{type:"button",class:"btn save_button mt-2",onClick:n[4]||(n[4]=(0,r.iM)((function(e){return q.updateC()}),["prevent"])),disabled:e.loading},[e.loading?((0,r.wg)(),(0,r.iD)("span",j,"Salvando...")):((0,r.wg)(),(0,r.iD)("span",k," Salvar"))],8,C)])])]),(0,r._)("div",A,[(0,r._)("div",x,[(0,r._)("div",O,[P,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":n[5]||(n[5]=function(n){return e.formPassword.new_password=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.formPassword.new_password]]),""!=e.errors.new_password?((0,r.wg)(),(0,r.iD)("div",D,(0,r.zw)(e.errors.new_password[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",F,[M,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":n[6]||(n[6]=function(n){return e.formPassword.new_password_confirm=n}),class:"form-control form-control-sm"},null,512),[[r.nr,e.formPassword.new_password_confirm]]),""!=e.errors.new_password_confirm?((0,r.wg)(),(0,r.iD)("div",U,(0,r.zw)(e.errors.new_password_confirm[0]||""),1)):(0,r.kq)("",!0)]),(0,r._)("div",E,[(0,r._)("button",{type:"button",class:"btn save_button mt-2",onClick:n[7]||(n[7]=(0,r.iM)((function(e){return q.updatePasswordAccoutn()}),["prevent"])),disabled:e.loading},[e.loading?((0,r.wg)(),(0,r.iD)("span",I,"Salvando...")):((0,r.wg)(),(0,r.iD)("span",T," Salvar"))],8,N)])])])])])])}],["__scopeId","data-v-2e871de6"]])}}]);