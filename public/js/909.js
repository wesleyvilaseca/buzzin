"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[909],{937:(l,t,o)=>{o.d(t,{A:()=>e});const e={props:{display:{required:!0},order:{type:Object,required:!0}},computed:{subtotal:function(){var l,t=0;return null===(l=this.order)||void 0===l||null===(l=l.products)||void 0===l||l.map((function(l,o){t+=l.qty*l.price})),t},total:function(){return this.order.total.toLocaleString("pt-br",{minimumFractionDigits:2})}},data:function(){return{status:"",loading:!1,RETIRADA:"Retirada"}},methods:{closeDetails:function(){this.$emit("closeDetails")},updateStatus:function(){var l=this;this.loading=!0,axios.patch("/api/v1/my-orders",{status:this.status,identify:this.order.identify}).then((function(t){return l.$emit("statusUpdated")})).catch((function(l){return alert("error")})).finally((function(){return l.loading=!1}))}},watch:{order:function(){this.status=this.order.status}}}},7663:(l,t,o)=>{o.d(t,{X:()=>Q});var e=o(9726),d={class:"modal-dialog modal-xl",role:"document"},i={class:"modal-content"},n={class:"modal-header"},a={class:"modal-title",id:"exampleModalLiveLabel"},r={class:"modal-body"},s={class:"row"},u={class:"col-md-7"},c=(0,e.Lk)("label",{for:"status"},"Status:",-1),v=[(0,e.Fv)('<option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitado</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',6)],p={class:"col-md-5"},k=["disabled"],L={class:"row"},m={class:"col-md-7"},b={class:"card mt-2"},h={class:"card-header"},_=(0,e.Lk)("br",null,null,-1),f=(0,e.Lk)("br",null,null,-1),y={class:"card-body"},g={class:"table-responsive"},C={class:"table table-condensed"},A=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",{scope:"col"},"#"),(0,e.Lk)("th",{scope:"col"},"Produto"),(0,e.Lk)("th",{scope:"col"},"Quantidade"),(0,e.Lk)("th",{scope:"col"},"Valor"),(0,e.Lk)("th",{scope:"col"},"Total")])],-1),W=["src","alt"],D=(0,e.Lk)("td",{colspan:"4",align:"right"},[(0,e.Lk)("strong",null,"Subtotal")],-1),R={colspan:"4",align:"right"},E=(0,e.Lk)("td",{colspan:"4",align:"right"},[(0,e.Lk)("strong",null," Total ")],-1),S={class:"col-md-5"},w={class:"card mt-2"},x=(0,e.Lk)("div",{class:"card-header"},"Dados do cliente",-1),X={class:"card-body"},$={class:"row"},T={class:"col-md-5",style:{"font-size":"0.8rem"}},q=(0,e.Lk)("br",null,null,-1),P=(0,e.Lk)("br",null,null,-1),z=(0,e.Lk)("br",null,null,-1),F={key:0,class:"col-md-7",style:{"font-size":"0.8rem"}},j=(0,e.Lk)("br",null,null,-1),I=(0,e.Lk)("br",null,null,-1),M=(0,e.Lk)("br",null,null,-1),O=(0,e.Lk)("br",null,null,-1);function Q(l,t,o,Q,U,V){var B,K,N,G,H,J,Y,Z,ll,tl,ol,el;return(0,e.uX)(),(0,e.CE)("div",{id:"exampleModalLive",class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLiveLabel",style:(0,e.Tr)({display:o.display})},[(0,e.Lk)("div",d,[(0,e.Lk)("div",i,[(0,e.Lk)("div",n,[(0,e.Lk)("h5",a,"Detalhes do Pedido "+(0,e.v_)(o.order.identify),1),(0,e.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return V.closeDetails&&V.closeDetails.apply(V,arguments)})})]),(0,e.Lk)("div",r,[(0,e.Lk)("form",{action:"#",method:"POST",class:"form form-inline",onSubmit:t[2]||(t[2]=(0,e.D$)((function(){return V.updateStatus&&V.updateStatus.apply(V,arguments)}),["prevent"]))},[(0,e.Lk)("div",s,[(0,e.Lk)("div",u,[c,(0,e.bo)((0,e.Lk)("select",{name:"status",class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=function(l){return U.status=l})},v,512),[[e.u1,U.status]])]),(0,e.Lk)("div",p,[(0,e.Lk)("button",{type:"submit",class:"btn btn-sm btn-info mt-4",disabled:U.loading}," Atualizar Status ",8,k)])])],32),(0,e.Lk)("div",L,[(0,e.Lk)("div",m,[(0,e.Lk)("div",b,[(0,e.Lk)("div",h,[(0,e.eW)(" Número do pedido: "+(0,e.v_)(o.order.identify)+" ",1),_,(0,e.eW)(" Data: "+(0,e.v_)(o.order.date_br)+" ",1),f,(0,e.eW)(" Status: "+(0,e.v_)(o.order.status_label),1)]),(0,e.Lk)("div",y,[(0,e.Lk)("div",g,[(0,e.Lk)("table",C,[A,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(o.order.products,(function(l,t){return(0,e.uX)(),(0,e.CE)("tr",{key:t},[(0,e.Lk)("td",null,[(0,e.Lk)("img",{src:l.image,alt:l.title,style:{"max-width":"50px"}},null,8,W)]),(0,e.Lk)("td",null,(0,e.v_)(l.title),1),(0,e.Lk)("td",null,(0,e.v_)(l.qty),1),(0,e.Lk)("td",null,"R$ "+(0,e.v_)(l.price),1),(0,e.Lk)("td",null,"R$ "+(0,e.v_)(l.qty*l.price),1)])})),128))]),(0,e.Lk)("tfoot",null,[(0,e.Lk)("tr",null,[D,(0,e.Lk)("td",null," R$ "+(0,e.v_)(V.subtotal),1)]),(0,e.Lk)("tr",null,[(0,e.Lk)("td",R,[(0,e.Lk)("strong",null,(0,e.v_)(null===(B=o.order)||void 0===B||null===(B=B.shipping_method)||void 0===B?void 0:B.description),1)]),(0,e.Lk)("td",null," R$ "+(0,e.v_)(null===(K=o.order)||void 0===K||null===(K=K.shipping_method)||void 0===K?void 0:K.price),1)]),(0,e.Lk)("tr",null,[E,(0,e.Lk)("td",null," R$ "+(0,e.v_)(o.order.total),1)])])])])])])]),(0,e.Lk)("div",S,[(0,e.Lk)("div",w,[x,(0,e.Lk)("div",X,[(0,e.Lk)("div",$,[(0,e.Lk)("div",T,[(0,e.eW)(" Cliente: "+(0,e.v_)(null===(N=o.order.client)||void 0===N?void 0:N.name)+" ",1),q,(0,e.eW)(" Email: "+(0,e.v_)(null===(G=o.order.client)||void 0===G?void 0:G.email)+" ",1),P,(0,e.eW)(" Celular: "+(0,e.v_)(o.order.client_mobile_phone)+" ",1),z,(0,e.eW)(" CPF: "+(0,e.v_)(o.order.client_doc),1)]),(null===(H=o.order)||void 0===H||null===(H=H.shipping_method)||void 0===H?void 0:H.description)!==U.RETIRADA?((0,e.uX)(),(0,e.CE)("div",F,[(0,e.eW)(" Endereço: "+(0,e.v_)(null===(J=o.order.client_address)||void 0===J?void 0:J.address)+" - nº: "+(0,e.v_)(null===(Y=o.order.client_address)||void 0===Y?void 0:Y.number),1),j,(0,e.eW)(" Complemento: "+(0,e.v_)(null===(Z=o.order.client_address)||void 0===Z?void 0:Z.complement)+" ",1),I,(0,e.eW)(" Bairro: "+(0,e.v_)(null===(ll=o.order.client_address)||void 0===ll?void 0:ll.district)+" ",1),M,(0,e.eW)(" CEP: "+(0,e.v_)(null===(tl=o.order.client_address)||void 0===tl?void 0:tl.zip_code)+" ",1),O,(0,e.eW)(" "+(0,e.v_)(null===(ol=o.order.client_address)||void 0===ol?void 0:ol.city)+" - "+(0,e.v_)(null===(el=o.order.client_address)||void 0===el?void 0:el.state),1)])):(0,e.Q3)("",!0)])])])])])])])])],4)}},6262:(l,t)=>{t.A=(l,t)=>{const o=l.__vccOpts||l;for(const[l,e]of t)o[l]=e;return o}},7909:(l,t,o)=>{o.r(t),o.d(t,{default:()=>i});var e=o(7754),d=o(5380);const i=(0,o(6262).A)(d.A,[["render",e.X]])},5380:(l,t,o)=>{o.d(t,{A:()=>e.A});var e=o(937)},7754:(l,t,o)=>{o.d(t,{X:()=>e.X});var e=o(7663)}}]);