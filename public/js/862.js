"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[862],{6368:(e,t,a)=>{a.d(t,{A:()=>r});var o=a(7695);const r={props:{tenant:Object,plan:Object},components:{},created:function(){var e=this,t=document.createElement("script");t.src="https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js",t.addEventListener("load",(function(){window.Mercadopago.setPublishableKey(e.tenant.mpkey)})),document.body.appendChild(t);var a=document.querySelector("iframe");a&&(document.body.removeChild(a),document.body.removeChild(t))},mounted:function(){},data:function(){return{loadPayment:!1,firstname:"",lastname:"",cpf:"",email:"",errors:{cpf:"",firsname:"",lastname:"",email:""}}},computed:{},methods:{pay:function(e,t){var a=this;this.reset(),this.loadPayment=!0,axios.post("/api/v1/payslip",{first_name:this.firstname,last_name:this.lastname,plan_id:this.plan.id,payment_method_id:"slip",email:this.email,cpf:this.cpf.replace(/[^a-zA-Z0-9]/g,"")}).then((function(e){var t=e.data;o.oR.success("Boleto gerado com sucesso",{autoClose:3e3}),window.location.href=t.redirect})).catch((function(e){a.clearCardForm();var t=e.response;a.errors=Object.assign(a.errors,t.data.errors),o.oR.error("Falha na operação",{autoClose:5e3})})).finally((function(){a.loadPayment=!1}))},validateForm:function(){var e;return this.firstname?this.lastname?this.email?this.cpf?(null===(e=this.cpf)||void 0===e?void 0:e.length)<14?(this.canSaveAddress=!1,this.errors.cpf=["A quantida de caracteres informádo é inválido"]):void(this.canSaveAddress=!0):(this.canSaveAddress=!1,this.errors.cpf=["O CPF é um campo obrigatório"]):(this.canSave=!1,this.errors.district=["O email é um campo obrigatório"]):(this.canSave=!1,this.errors.city=["O sobrenome é um campo obrigatório"]):(this.canSave=!1,this.errors.state=["O nome é um campo obrigatório"])},clearCardForm:function(){this.loadPayment=!1,this.firstname="",this.lastname="",this.cpf="",this.email=""},reset:function(){this.errors.cpf=""}},watch:{}}},8556:(e,t,a)=>{a.d(t,{X:()=>C});var o=a(9726),r={id:"pay"},s={class:"row"},n={class:"form-group mt-2 col-md-12"},i=(0,o.Lk)("label",{class:"mb-1"}," Nome ",-1),c={key:0,class:"form-text text-danger"},l={class:"form-group mt-2 col-md-12"},m=(0,o.Lk)("label",{class:"mb-1"}," Sobrenome ",-1),d={key:0,class:"form-text text-danger"},u={class:"form-group mt-2 col-md-12"},p=(0,o.Lk)("label",{class:"mb-1"},"EMAIL:",-1),f={key:0,class:"form-text text-danger"},h={class:"form-group mt-2 col-md-12"},v=(0,o.Lk)("label",{class:"mb-1"},"CPF:",-1),b={key:0,class:"form-text text-danger"},y=(0,o.Lk)("input",{id:"docType",value:"CPF","data-checkout":"docType",type:"hidden"},null,-1),k=["value"],g={class:"text-right mt-2 d-grid gap-2"},L=["disabled"];function C(e,t,a,C,_,x){var A=(0,o.gN)("mask");return(0,o.uX)(),(0,o.CE)("form",r,[(0,o.Lk)("div",s,[(0,o.Lk)("div",n,[i,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return _.firstname=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,_.firstname]]),""!=_.errors.firsname?((0,o.uX)(),(0,o.CE)("div",c,(0,o.v_)(e.firsname.cpf[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",l,[m,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return _.lastname=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,_.lastname]]),""!=_.errors.lastname?((0,o.uX)(),(0,o.CE)("div",d,(0,o.v_)(_.lastname.cpf[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",u,[p,(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return _.email=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,_.email]]),""!=_.errors.email?((0,o.uX)(),(0,o.CE)("div",f,(0,o.v_)(_.errors.email[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",h,[v,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return _.cpf=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,_.cpf],[A,"###.###.###-##"]]),""!=_.errors.cpf?((0,o.uX)(),(0,o.CE)("div",b,(0,o.v_)(_.errors.cpf[0]||""),1)):(0,o.Q3)("",!0),y,(0,o.Lk)("input",{id:"docNumber",value:_.cpf,"data-checkout":"docNumber",type:"hidden"},null,8,k)]),(0,o.Lk)("div",g,[(0,o.Lk)("button",{type:"submit",id:"form-checkout__submit",class:"btn btn-success",disabled:_.loadPayment,onClick:t[4]||(t[4]=(0,o.D$)((function(){return x.pay&&x.pay.apply(x,arguments)}),["prevent"]))},(0,o.v_)(_.loadPayment?"Processando...":"Pagar"),9,L)])])])}},6262:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,o]of t)a[e]=o;return a}},9862:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var o=a(1671),r=a(419);const s=(0,a(6262).A)(r.A,[["render",o.X]])},419:(e,t,a)=>{a.d(t,{A:()=>o.A});var o=a(6368)},1671:(e,t,a)=>{a.d(t,{X:()=>o.X});var o=a(8556)}}]);