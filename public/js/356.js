"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[356],{5470:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".modal-fade-enter[data-v-629a64f3],.modal-fade-leave-to[data-v-629a64f3]{opacity:0}.modal-backdrop[data-v-629a64f3]{z-index:-1!important}.modal-fade-enter-active[data-v-629a64f3],.modal-fade-leave-active[data-v-629a64f3]{transition:opacity .5s ease}.modalVue[data-v-629a64f3]{background-color:rgba(0,0,0,.6);display:none;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:99!important}.modalVue.open[data-v-629a64f3]{display:block}.modalVue .modal-content[data-v-629a64f3]{border:1px solid #171717;margin:15% auto;padding:20px;width:80%}.modalVue .modal-content .close[data-v-629a64f3]{color:#aaa;float:right;font-size:28px;font-weight:700}.modalVue .modal-content .close[data-v-629a64f3]:focus,.modalVue .modal-content .close[data-v-629a64f3]:hover{color:#000;cursor:pointer;text-decoration:none}.modalVue .modal-footer[data-v-629a64f3]{padding:10px 0 0!important}.modalVue .modal-body[data-v-629a64f3],.modalVue .modal-header[data-v-629a64f3]{padding:10px 0!important}.modalVue .modal-header h5[data-v-629a64f3]{font-size:1.1em;padding-top:4px}.card[data-v-629a64f3]{margin-bottom:0!important;padding-bottom:0!important}",""]);const a=n},911:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".load_more_btn[data-v-3bf43f66]{background:var(--61bce10f)!important}.calcel-button[data-v-3bf43f66],.load_more_btn[data-v-3bf43f66]{border-radius:25px!important;color:var(--5e327d54)!important}.calcel-button[data-v-3bf43f66],.load_more_btn[data-v-3bf43f66]:hover{background:var(--4057c60c)!important}",""]);const a=n},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,o){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(o)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(n[s]=!0)}for(var i=0;i<e.length;i++){var d=[].concat(e[i]);o&&n[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},3379:(e,t,r)=>{var o,n=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),s=[];function i(e){for(var t=-1,r=0;r<s.length;r++)if(s[r].identifier===e){t=r;break}return t}function d(e,t){for(var r={},o=[],n=0;n<e.length;n++){var a=e[n],d=t.base?a[0]+t.base:a[0],c=r[d]||0,l="".concat(d," ").concat(c);r[d]=c+1;var u=i(l),m={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(s[u].references++,s[u].updater(m)):s.push({identifier:l,updater:h(m,t),references:1}),o.push(l)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var n=r.nc;n&&(o.nonce=n)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function m(e,t,r,o){var n=r?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var a=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function f(e,t,r){var o=r.css,n=r.media,a=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,v=0;function h(e,t){var r,o,n;if(t.singleton){var a=v++;r=p||(p=c(t)),o=m.bind(null,r,a,!1),n=m.bind(null,r,a,!0)}else r=c(t),o=f.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var r=d(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<r.length;o++){var n=i(r[o]);s[n].references--}for(var a=d(e,t),c=0;c<r.length;c++){var l=i(r[c]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}r=a}}}},3744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,o]of t)r[e]=o;return r}},9185:(e,t,r)=>{r.d(t,{Z:()=>b});var o=r(821),n={name:"modal-fade"},a=["id"],s={class:"bs-example-modal-center show"},i={class:"modal-content"},d={class:"modal-header"},c={class:"modal-title mt-0"},l={class:"modal-body"},u=function(e){return(0,o.dD)("data-v-629a64f3"),e=e(),(0,o.Cn)(),e}((function(){return(0,o._)("p",null,"Conteudo aqui...",-1)}));const m={name:"Modal",props:{id:String,modalSize:String,showClose:{type:Boolean,default:!0},title:{type:String,required:!1,default:""}},methods:{close:function(){this.$emit("close")}}};var f=r(3379),p=r.n(f),v=r(5470),h={insert:"head",singleton:!1};p()(v.Z,h);v.Z.locals;const b=(0,r(3744).Z)(m,[["render",function(e,t,r,m,f,p){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",{class:"modalVue open",id:"".concat(r.id)},[(0,o._)("div",s,[(0,o._)("div",{class:(0,o.C_)(["modal-dialog modal-dialog-centered",r.modalSize?r.modalSize:"modal-xl"]),role:"document"},[(0,o._)("div",i,[(0,o._)("div",d,[(0,o._)("h5",c,(0,o.zw)(r.title),1),r.showClose?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(e){return p.close()})})):(0,o.kq)("",!0)]),(0,o._)("div",l,[(0,o.WI)(e.$slots,"content",{},(function(){return[u]}),!0)]),(0,o.WI)(e.$slots,"footer",{},void 0,!0)])],2)])],8,a)])}],["__scopeId","data-v-629a64f3"]])},6356:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ce});var o=r(821),n=function(e){return(0,o.dD)("data-v-3bf43f66"),e=e(),(0,o.Cn)(),e},a={class:"d-flex justify-content-end"},s={key:0},i=["onClick"],d={class:"card-body"},c={key:0},l={class:"mb-1"},u={class:"text-muted"},m={key:1,class:"mt-2"},f=[n((function(){return(0,o._)("div",{class:"alert alert-warning text-center"}," Você não possuí endereços cadastrados ",-1)}))],p={key:0,class:"text-center mt-2"},v=n((function(){return(0,o._)("i",{class:"fas fa-spinner fa-spin"},null,-1)})),h={key:0,class:"text-center"},b=[n((function(){return(0,o._)("div",{class:"alert alert-warning"},[(0,o.Uk)(" Nesse momento a loja está fechada "),(0,o._)("p",null," Entregas e retiradas serão feitas quando a loja estiver aberta ")],-1)}))],g={key:1,name:"checkout-order",heigth:350},y={class:"d-flex justify-content-end"},_=["disabled"],w={key:0},A={key:1},S={key:0,class:"form-group mt-2 col-md-4"},k=n((function(){return(0,o._)("label",null,"Informe seu CPF:",-1)})),C={key:0,class:"form-text text-danger"},x={class:"row"},E={class:"form-group mt-2 col-md-4"},D=n((function(){return(0,o._)("label",null,"CEP:",-1)})),z={key:0,class:"form-text text-danger"},M={class:"form-group mt-2 col-md-5"},O=n((function(){return(0,o._)("label",null,"Cidade: *",-1)})),P={key:0,class:"form-text text-danger"},V={class:"form-group mt-2 col-md-2"},j=n((function(){return(0,o._)("label",null,"UF: *",-1)})),T={key:0,class:"form-text text-danger"},q={class:"form-group mt-2 col-md-5"},I=n((function(){return(0,o._)("label",null,"Bairro: *",-1)})),N={key:0,class:"form-text text-danger"},U={class:"form-group mt-2 col-md-5"},F=n((function(){return(0,o._)("label",null,"Endereço: *",-1)})),H={class:"form-text text-danger","vv-if":"errors.address != ''"},Z={class:"form-group mt-2 col-md-2"},B=n((function(){return(0,o._)("label",null,"Numero:",-1)})),L={key:0,class:"form-text text-danger"},Y={class:"form-group mt-2 col-md-12"},R=n((function(){return(0,o._)("label",null,"Complemento:",-1)})),W={key:0,class:"form-text text-danger"};var $=r(9185),G=r(3907),J=r(8874);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==K(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te={components:{ModalComponent:$.Z},data:function(){return{isModalEnderecoVisible:!1,loading:!1,canSaveAddress:!1,formAddress:{cpf:"",address:"",zip_code:"",state:"",city:"",district:"",number:"",complement:"",id:""},errors:{cpf:"",address:"",zip_code:"",state:"",city:"",district:"",number:"",complement:"",troco:""}}},computed:X({},(0,G.rn)({address:function(e){return e.auth.address},company:function(e){return e.tenant.company},me:function(e){return e.auth.me},paleta:function(e){return e.layout.paleta},subtotal:function(e){return e.cart.subtotal}})),methods:X(X(X({},(0,G.nv)(["getCepViaCep","saveNewAddress","shippingValue"])),(0,G.OI)({setSelectedAddress:"SET_SELECTED_ADDRESS",setShippingMethods:"SET_SHIPPING_METHODS",setSelectedShippingMethod:"SET_SELECTED_SHIPPING_METHOD",setSelectedPaymentMethod:"SET_SELECTED_PAYMENT_METHOD",setPaymentMethods:"SET_PAYMENT_METHODS",setStep:"SET_STEP"})),{},{modalEndereco:function(e){return this.resetForm(),e||(this.resetForm(),this.reset()),this.isModalEnderecoVisible=e},setAddress:function(e){var t=this;this.loading=!0,this.setSelectedAddress(e),this.setShippingMethods({data:[]}),this.setSelectedShippingMethod({price:""}),this.setSelectedPaymentMethod({description:""}),this.setPaymentMethods([]),this.getShippingValue(e.zip_code).then((function(){t.setStep(1)})).catch((function(e){var r,o;null!=e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.message&&(t.errorMessage=e.response.data.message),J.Am.error("Houve um erro ao buscar as formas de entrega, tente novamente",{autoClose:5e3})})).finally((function(){t.loading=!1}))},salveAddress:function(){var e=this;this.reset(),this.validateForm(),this.canSaveAddress&&(this.loading=!0,this.saveNewAddress(this.formAddress).then((function(t){J.Am.success("Endereço salvo com sucesso",{autoClose:300}),e.modalEndereco(!1),e.resetForm()})).catch((function(t){var r=t.response;e.errors=Object.assign(e.errors,r.data.errors),J.Am.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1})))},getShippingValue:function(e){this.errorMessage="";var t={cep:e.replace("-",""),cartPrice:this.subtotal};return this.shippingValue(t)},buscacep:function(){var e=this;this.formAddress.zip_code.length<9?this.errors.zip_code=["Informe um cep valido"]:this.getCepViaCep(this.formAddress.zip_code).then((function(t){var r=t.data;e.formAddress.city=null==r?void 0:r.localidade,e.formAddress.district=null==r?void 0:r.bairro,e.formAddress.address=null==r?void 0:r.logradouro,e.formAddress.state=null==r?void 0:r.uf,e.formAddress.complement=null==r?void 0:r.complemento})).catch((function(e){J.Am.error("Informe um CEP válido",{autoClose:300})}))},validateForm:function(){if(this.formAddress.zip_code.length<9)return this.canSaveAddress=!1,this.errors.zip_code=["Informe um cep valido"];if(!this.formAddress.state)return this.canSaveAddress=!1,this.errors.state=["O estado é um campo obrigatório"];if(!this.formAddress.city)return this.canSaveAddress=!1,this.errors.city=["A cidade campo obrigatório"];if(!this.formAddress.district)return this.canSaveAddress=!1,this.errors.district=["O bairro é um campo obrigatório"];if(!this.formAddress.address)return this.canSaveAddress=!1,this.errors.address=["A rua é um campo obrigatório"];if(!this.formAddress.complement)return this.canSaveAddress=!1,this.errors.complement=["O complemento campo obrigatório"];if("N"==this.me.hasIdDoc){var e;if(!this.formAddress.cpf)return this.canSaveAddress=!1,this.errors.cpf=["O CPF é um campo obrigatório"];if((null===(e=this.formAddress.cpf)||void 0===e?void 0:e.length)<14)return this.canSaveAddress=!1,this.errors.cpf=["A quantida de caracteres informádo é inválido"]}this.canSaveAddress=!0},reset:function(){this.errors={cpf:"",address:"",zip_code:"",state:"",city:"",district:"",number:"",complement:"",troco:""}},resetForm:function(){this.formAddress={address:"",zip_code:"",state:"",city:"",district:"",number:"",complement:""}}})},re=function(){(0,o.sj)((function(e){return{"61bce10f":e.paleta.btn_color,"5e327d54":e.paleta.btn_color_letter,"4057c60c":e.paleta.btn_color_hover}}))},oe=te.setup;te.setup=oe?function(e,t){return re(),oe(e,t)}:re;const ne=te;var ae=r(3379),se=r.n(ae),ie=r(911),de={insert:"head",singleton:!1};se()(ie.Z,de);ie.Z.locals;const ce=(0,r(3744).Z)(ne,[["render",function(e,t,r,n,$,G){var J=(0,o.up)("ModalComponent"),K=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o._)("div",a,[(0,o._)("button",{type:"button",class:"btn load_more_btn",onClick:t[0]||(t[0]=(0,o.iM)((function(e){return G.modalEndereco(!0)}),["prevent"]))},"Adicionar")]),e.address.data.length>0?((0,o.wg)(),(0,o.iD)("div",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.address.data,(function(e,t){return(0,o.wg)(),(0,o.iD)("div",{cla:"",key:t,onClick:(0,o.iM)((function(t){return G.setAddress(e)}),["prevent"]),class:"card mt-1",style:{cursor:"pointer"}},[(0,o._)("div",d,[(0,o._)("div",null,[(0,o.Uk)((0,o.zw)(e.address)+" ",1),e.number?((0,o.wg)(),(0,o.iD)("span",c," n: "+(0,o.zw)(e.number),1)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,o.zw)(e.district),1)]),(0,o._)("p",l,(0,o.zw)(e.complement)+" "+(0,o.zw)(e.city)+" - "+(0,o.zw)(e.state),1),(0,o._)("small",u,(0,o.zw)(e.zip_code),1)])],8,i)})),128))])):((0,o.wg)(),(0,o.iD)("div",m,f))]),e.loading?((0,o.wg)(),(0,o.iD)("div",p,[v,(0,o.Uk)(" Buscando... ")])):(0,o.kq)("",!0),(0,o.wy)((0,o.Wm)(J,{title:"Cadastrar novo endereço",onClose:t[12]||(t[12]=function(e){return G.modalEndereco(!1)})},{content:(0,o.w5)((function(){return["N"==e.company.isOpen?((0,o.wg)(),(0,o.iD)("div",h,b)):(0,o.kq)("",!0),"Y"==e.company.clientCanBuy?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("div",y,[(0,o._)("button",{type:"button",class:"btn calcel-button me-2",onClick:t[1]||(t[1]=(0,o.iM)((function(e){return G.modalEndereco(!1)}),["prevent"]))},"Cancelar"),(0,o._)("button",{type:"button",class:"btn load_more_btn",onClick:t[2]||(t[2]=(0,o.iM)((function(e){return G.salveAddress()}),["prevent"])),disabled:e.loading},[e.loading?((0,o.wg)(),(0,o.iD)("span",w,"Salvando...")):((0,o.wg)(),(0,o.iD)("span",A," Salvar"))],8,_)]),(0,o._)("form",null,["N"==e.me.hasIdDoc?((0,o.wg)(),(0,o.iD)("div",S,[k,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formAddress.cpf=t}),class:"form-control form-control-sm",placeholder:"CPF"},null,512),[[o.nr,e.formAddress.cpf],[K,"###.###.###-##"]]),""!=e.errors.cpf?((0,o.wg)(),(0,o.iD)("div",C,(0,o.zw)(e.errors.cpf[0]||""),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o._)("div",x,[(0,o._)("div",E,[D,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formAddress.zip_code=t}),class:"form-control form-control-sm",placeholder:"CEP:",onBlur:t[5]||(t[5]=(0,o.iM)((function(e){return G.buscacep()}),["prevent"]))},null,544),[[o.nr,e.formAddress.zip_code],[K,"#####-###"]]),""!=e.errors.zip_code?((0,o.wg)(),(0,o.iD)("div",z,(0,o.zw)(e.errors.zip_code[0]||""),1)):(0,o.kq)("",!0)]),(0,o._)("div",M,[O,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formAddress.city=t}),class:"form-control form-control-sm",placeholder:"Cidade:",readonly:""},null,512),[[o.nr,e.formAddress.city]]),""!=e.errors.city?((0,o.wg)(),(0,o.iD)("div",P,(0,o.zw)(e.errors.city[0]||""),1)):(0,o.kq)("",!0)]),(0,o._)("div",V,[j,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formAddress.state=t}),class:"form-control form-control-sm",placeholder:"UF:",readonly:""},null,512),[[o.nr,e.formAddress.state]]),""!=e.errors.state?((0,o.wg)(),(0,o.iD)("div",T,(0,o.zw)(e.errors.state[0]||""),1)):(0,o.kq)("",!0)]),(0,o._)("div",q,[I,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formAddress.district=t}),class:"form-control form-control-sm",placeholder:"Bairro:",readonly:""},null,512),[[o.nr,e.formAddress.district]]),""!=e.errors.district?((0,o.wg)(),(0,o.iD)("div",N,(0,o.zw)(e.errors.district[0]||""),1)):(0,o.kq)("",!0)]),(0,o._)("div",U,[F,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formAddress.address=t}),class:"form-control form-control-sm",placeholder:"Endereço:"},null,512),[[o.nr,e.formAddress.address]]),(0,o._)("div",H,(0,o.zw)(e.errors.address[0]||""),1)]),(0,o._)("div",Z,[B,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formAddress.number=t}),class:"form-control form-control-sm"},null,512),[[o.nr,e.formAddress.number]]),""!=e.errors.number?((0,o.wg)(),(0,o.iD)("div",L,(0,o.zw)(e.errors.number[0]||""),1)):(0,o.kq)("",!0)]),(0,o._)("div",Y,[R,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formAddress.complement=t}),class:"form-control form-control-sm",placeholder:"Complemento:"},null,512),[[o.nr,e.formAddress.complement]]),""!=e.errors.complement?((0,o.wg)(),(0,o.iD)("div",W,(0,o.zw)(e.errors.complement[0]||""),1)):(0,o.kq)("",!0)])])])])):(0,o.kq)("",!0)]})),_:1},512),[[o.F8,e.isModalEnderecoVisible]])],64)}],["__scopeId","data-v-3bf43f66"]])}}]);