"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[164,165],{5905:(t,e,l)=>{l.d(e,{Z:()=>o});const o={props:{display:{required:!0},order:{type:Object,required:!0}},computed:{subtotal:function(){var t,e,l=0;return null===(t=this.order)||void 0===t||null===(e=t.products)||void 0===e||e.map((function(t,e){l+=t.qty*t.price})),l},total:function(){return this.order.total.toLocaleString("pt-br",{minimumFractionDigits:2})}},data:function(){return{status:"",loading:!1,RETIRADA:"Retirada"}},methods:{closeDetails:function(){this.$emit("closeDetails")},updateStatus:function(){var t=this;this.loading=!0,axios.patch("/api/v1/my-orders",{status:this.status,identify:this.order.identify}).then((function(e){return t.$emit("statusUpdated")})).catch((function(t){return alert("error")})).finally((function(){return t.loading=!1}))}},watch:{order:function(){this.status=this.order.status}}}},4814:(t,e,l)=>{l.d(e,{Z:()=>o});l(5399);const o={created:function(){},mounted:function(){this.getOrders()},data:function(){return{RETIRADA:"Retirada",orders:{data:[]},loadingOrders:!1,dateFilter:(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),status:"all",order:{identify:"",total:"",status:"",status_label:"",date:"",date_br:"",company:{name:"",image:"",uuid:"",contact:""},client:{name:"",email:""},table:"",products:[],evaluations:[]},displayOrder:"none"}},computed:{},methods:{paymentTypeIntegration:function(t){if(t.payment_method.integration)return"ticket"===t.order_integration_transaction.payment_type_id?"Boleto":"Cartão de crédito"},getOrders:function(){var t=this;this.reset(),this.loadingOrders=!0,axios.get("/api/v1/my-orders",{params:{status:this.status,date:this.dateFilter}}).then((function(e){return t.orders=e.data})).catch((function(t){return alert("error")})).finally((function(){return t.loadingOrders=!1}))},reset:function(){this.orders={data:[]}},statusUpdated:function(t){this.closeDetails(),this.getOrders()},openDetails:function(t){this.order=t,this.displayOrder="block"},closeDetails:function(){this.order={identify:"",total:"",status:"",status_label:"",date:"",date_br:"",company:{name:"",image:"",uuid:"",contact:""},client:{name:"",email:""},table:"",products:[],evaluations:[]},this.displayOrder="none"}},watch:{status:function(){return this.getOrders()},dateFilter:function(){return this.getOrders()}},components:{DetailOrder:l(5165).default}}},5441:(t,e,l)=>{l.d(e,{s:()=>Y});var o=l(821),n={class:"modal-dialog modal-xl",role:"document"},a={class:"modal-content"},i={class:"modal-header"},d={class:"modal-title",id:"exampleModalLiveLabel"},r={class:"modal-body"},s={class:"row"},u={class:"col-md-7"},c=(0,o._)("label",{for:"status"},"Status:",-1),p=[(0,o.uE)('<option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitado</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',6)],_={class:"col-md-5"},m=["disabled"],v={class:"row"},h={class:"col-md-7"},f={class:"card mt-2"},b={class:"card-header"},g=(0,o._)("br",null,null,-1),y=(0,o._)("br",null,null,-1),w={class:"card-body"},D={class:"table-responsive"},k={class:"table table-condensed"},z=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"#"),(0,o._)("th",{scope:"col"},"Produto"),(0,o._)("th",{scope:"col"},"Quantidade"),(0,o._)("th",{scope:"col"},"Valor"),(0,o._)("th",{scope:"col"},"Total")])],-1),U=["src","alt"],C=(0,o._)("td",{colspan:"4",align:"right"},[(0,o._)("strong",null,"Subtotal")],-1),O={colspan:"4",align:"right"},R=(0,o._)("td",{colspan:"4",align:"right"},[(0,o._)("strong",null," Total ")],-1),S={class:"col-md-5"},A={class:"card mt-2"},E=(0,o._)("div",{class:"card-header"},"Dados do cliente",-1),T={class:"card-body"},Z={class:"row"},M={class:"col-md-5",style:{"font-size":"0.8rem"}},x=(0,o._)("br",null,null,-1),F=(0,o._)("br",null,null,-1),q=(0,o._)("br",null,null,-1),P={key:0,class:"col-md-7",style:{"font-size":"0.8rem"}},$=(0,o._)("br",null,null,-1),j=(0,o._)("br",null,null,-1),I=(0,o._)("br",null,null,-1),L=(0,o._)("br",null,null,-1);function Y(t,e,l,Y,H,V){var N,B,K,Q,W,G,J,X,tt,et,lt,ot,nt,at,it;return(0,o.wg)(),(0,o.iD)("div",{id:"exampleModalLive",class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLiveLabel",style:(0,o.j5)({display:l.display})},[(0,o._)("div",n,[(0,o._)("div",a,[(0,o._)("div",i,[(0,o._)("h5",d,"Detalhes do Pedido "+(0,o.zw)(l.order.identify),1),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=function(){return V.closeDetails&&V.closeDetails.apply(V,arguments)})})]),(0,o._)("div",r,[(0,o._)("form",{action:"#",method:"POST",class:"form form-inline",onSubmit:e[2]||(e[2]=(0,o.iM)((function(){return V.updateStatus&&V.updateStatus.apply(V,arguments)}),["prevent"]))},[(0,o._)("div",s,[(0,o._)("div",u,[c,(0,o.wy)((0,o._)("select",{name:"status",class:"form-control form-control-sm","onUpdate:modelValue":e[1]||(e[1]=function(t){return H.status=t})},p,512),[[o.bM,H.status]])]),(0,o._)("div",_,[(0,o._)("button",{type:"submit",class:"btn btn-sm btn-info mt-4",disabled:H.loading}," Atualizar Status ",8,m)])])],32),(0,o._)("div",v,[(0,o._)("div",h,[(0,o._)("div",f,[(0,o._)("div",b,[(0,o.Uk)(" Número do pedido: "+(0,o.zw)(l.order.identify)+" ",1),g,(0,o.Uk)(" Data: "+(0,o.zw)(l.order.date_br)+" ",1),y,(0,o.Uk)(" Status: "+(0,o.zw)(l.order.status_label),1)]),(0,o._)("div",w,[(0,o._)("div",D,[(0,o._)("table",k,[z,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.order.products,(function(t,e){return(0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,[(0,o._)("img",{src:t.image,alt:t.title,style:{"max-width":"50px"}},null,8,U)]),(0,o._)("td",null,(0,o.zw)(t.title),1),(0,o._)("td",null,(0,o.zw)(t.qty),1),(0,o._)("td",null,"R$ "+(0,o.zw)(t.price),1),(0,o._)("td",null,"R$ "+(0,o.zw)(t.qty*t.price),1)])})),128))]),(0,o._)("tfoot",null,[(0,o._)("tr",null,[C,(0,o._)("td",null," R$ "+(0,o.zw)(V.subtotal),1)]),(0,o._)("tr",null,[(0,o._)("td",O,[(0,o._)("strong",null,(0,o.zw)(null===(N=l.order)||void 0===N||null===(B=N.shipping_method)||void 0===B?void 0:B.description),1)]),(0,o._)("td",null," R$ "+(0,o.zw)(null===(K=l.order)||void 0===K||null===(Q=K.shipping_method)||void 0===Q?void 0:Q.price),1)]),(0,o._)("tr",null,[R,(0,o._)("td",null," R$ "+(0,o.zw)(l.order.total),1)])])])])])])]),(0,o._)("div",S,[(0,o._)("div",A,[E,(0,o._)("div",T,[(0,o._)("div",Z,[(0,o._)("div",M,[(0,o.Uk)(" Cliente: "+(0,o.zw)(null===(W=l.order.client)||void 0===W?void 0:W.name)+" ",1),x,(0,o.Uk)(" Email: "+(0,o.zw)(null===(G=l.order.client)||void 0===G?void 0:G.email)+" ",1),F,(0,o.Uk)(" Celular: "+(0,o.zw)(l.order.client_mobile_phone)+" ",1),q,(0,o.Uk)(" CPF: "+(0,o.zw)(l.order.client_doc),1)]),(null===(J=l.order)||void 0===J||null===(X=J.shipping_method)||void 0===X?void 0:X.description)!==H.RETIRADA?((0,o.wg)(),(0,o.iD)("div",P,[(0,o.Uk)(" Endereço: "+(0,o.zw)(null===(tt=l.order.client_address)||void 0===tt?void 0:tt.address)+" - nº: "+(0,o.zw)(null===(et=l.order.client_address)||void 0===et?void 0:et.number),1),$,(0,o.Uk)(" Complemento: "+(0,o.zw)(null===(lt=l.order.client_address)||void 0===lt?void 0:lt.complement)+" ",1),j,(0,o.Uk)(" Bairro: "+(0,o.zw)(null===(ot=l.order.client_address)||void 0===ot?void 0:ot.district)+" ",1),I,(0,o.Uk)(" CEP: "+(0,o.zw)(null===(nt=l.order.client_address)||void 0===nt?void 0:nt.zip_code)+" ",1),L,(0,o.Uk)(" "+(0,o.zw)(null===(at=l.order.client_address)||void 0===at?void 0:at.city)+" - "+(0,o.zw)(null===(it=l.order.client_address)||void 0===it?void 0:it.state),1)])):(0,o.kq)("",!0)])])])])])])])])],4)}},5397:(t,e,l)=>{l.d(e,{s:()=>z});var o=l(821),n={class:"card-header"},a={action:"#",method:"POST",class:"form form-inline"},i={class:"row"},d={class:"col-md-3"},r=(0,o._)("label",{for:"status"},"Status:",-1),s=[(0,o.uE)('<option value="all">Todos</option><option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitados</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',7)],u={class:"col-md-3"},c={class:"form-group"},p=(0,o._)("label",{for:"date"},"Data:",-1),_={class:"card-body"},m={class:"table table-condensed"},v=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Número"),(0,o._)("th",null,"Status entrega"),(0,o._)("th",null,"Data"),(0,o._)("th",null,"Detalhes"),(0,o._)("th",{width:"270"},"Ações")])],-1),h={key:0},f={key:1},b=[(0,o._)("span",{class:"alert alert-warning p-1"},"Retirada",-1)],g=(0,o._)("br",null,null,-1),y=["onClick"],w=[(0,o._)("i",{class:"fa-solid fa-eye"},null,-1)],D={key:0},k={key:1};function z(t,e,l,z,U,C){var O=(0,o.up)("detail-order");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",n,[(0,o._)("form",a,[(0,o._)("div",i,[(0,o._)("div",d,[r,(0,o.wy)((0,o._)("select",{name:"status",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return U.status=t}),onChange:e[1]||(e[1]=(0,o.iM)((function(t){return C.getOrders()}),["prevent"]))},s,544),[[o.bM,U.status]])]),(0,o._)("div",u,[(0,o._)("div",c,[p,(0,o.wy)((0,o._)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return U.dateFilter=t}),onChange:e[3]||(e[3]=(0,o.iM)((function(t){return C.getOrders()}),["prevent"]))},null,544),[[o.nr,U.dateFilter]])])])])])]),(0,o._)("div",_,[(0,o._)("table",m,[v,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(U.orders.data,(function(t,e){var l;return(0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,o.zw)(t.identify),1),(null==t||null===(l=t.shipping_method)||void 0===l?void 0:l.description)!==U.RETIRADA?((0,o.wg)(),(0,o.iD)("td",h,(0,o.zw)(t.status_label),1)):((0,o.wg)(),(0,o.iD)("td",f,b)),(0,o._)("td",null,(0,o.zw)(t.date_br),1),(0,o._)("td",null,[t.payment_method.integration?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,o.zw)(t.payment_method.integration)+" - "+(0,o.zw)(C.paymentTypeIntegration(t))+" ",1),g,(0,o._)("b",null,"Status: "+(0,o.zw)(t.order_integration_transaction.status),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,o.zw)(t.payment_method.description),1)],64))]),(0,o._)("td",null,[(0,o._)("a",{href:"#",onClick:(0,o.iM)((function(e){return C.openDetails(t)}),["prevent"]),class:"btn btn-info btn-sm"},w,8,y)])])})),128))])]),U.loadingOrders?((0,o.wg)(),(0,o.iD)("div",D,"Carregando seus pedidos")):0==U.orders.data.length?((0,o.wg)(),(0,o.iD)("div",k,"Nenhum Pedido")):(0,o.kq)("",!0)]),(0,o.Wm)(O,{order:U.order,display:U.displayOrder,onCloseDetails:C.closeDetails,onStatusUpdated:C.statusUpdated},null,8,["order","display","onCloseDetails","onStatusUpdated"])])}},3744:(t,e)=>{e.Z=(t,e)=>{const l=t.__vccOpts||t;for(const[t,o]of e)l[t]=o;return l}},5165:(t,e,l)=>{l.r(e),l.d(e,{default:()=>a});var o=l(7541),n=l(4258);const a=(0,l(3744).Z)(n.Z,[["render",o.s]])},5164:(t,e,l)=>{l.r(e),l.d(e,{default:()=>a});var o=l(9298),n=l(4213);const a=(0,l(3744).Z)(n.Z,[["render",o.s]])},4258:(t,e,l)=>{l.d(e,{Z:()=>o.Z});var o=l(5905)},4213:(t,e,l)=>{l.d(e,{Z:()=>o.Z});var o=l(4814)},7541:(t,e,l)=>{l.d(e,{s:()=>o.s});var o=l(5441)},9298:(t,e,l)=>{l.d(e,{s:()=>o.s});var o=l(5397)}}]);