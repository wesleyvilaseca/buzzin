"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[400,909],{937:(t,e,l)=>{l.d(e,{A:()=>o});const o={props:{display:{required:!0},order:{type:Object,required:!0}},computed:{subtotal:function(){var t,e=0;return null===(t=this.order)||void 0===t||null===(t=t.products)||void 0===t||t.map((function(t,l){e+=t.qty*t.price})),e},total:function(){return this.order.total.toLocaleString("pt-br",{minimumFractionDigits:2})}},data:function(){return{status:"",loading:!1,RETIRADA:"Retirada"}},methods:{closeDetails:function(){this.$emit("closeDetails")},updateStatus:function(){var t=this;this.loading=!0,axios.patch("/api/v1/my-orders",{status:this.status,identify:this.order.identify}).then((function(e){return t.$emit("statusUpdated")})).catch((function(t){return alert("error")})).finally((function(){return t.loading=!1}))}},watch:{order:function(){this.status=this.order.status}}}},1540:(t,e,l)=>{l.d(e,{A:()=>o});const o={created:function(){},mounted:function(){this.getOrders()},data:function(){return{RETIRADA:"Retirada",orders:{data:[]},loadingOrders:!1,dateFilter:(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),status:"all",order:{identify:"",total:"",status:"",status_label:"",date:"",date_br:"",company:{name:"",image:"",uuid:"",contact:""},client:{name:"",email:""},table:"",products:[],evaluations:[]},displayOrder:"none"}},computed:{},methods:{paymentTypeIntegration:function(t){if(t.payment_method.integration)return"ticket"===t.order_integration_transaction.payment_type_id?"Boleto":"Cartão de crédito"},getOrders:function(){var t=this;this.reset(),this.loadingOrders=!0,axios.get("/api/v1/my-orders",{params:{status:this.status,date:this.dateFilter}}).then((function(e){return t.orders=e.data})).catch((function(t){return alert("error")})).finally((function(){return t.loadingOrders=!1}))},reset:function(){this.orders={data:[]}},statusUpdated:function(t){this.closeDetails(),this.getOrders()},openDetails:function(t){this.order=t,this.displayOrder="block"},closeDetails:function(){this.order={identify:"",total:"",status:"",status_label:"",date:"",date_br:"",company:{name:"",image:"",uuid:"",contact:""},client:{name:"",email:""},table:"",products:[],evaluations:[]},this.displayOrder="none"}},watch:{status:function(){return this.getOrders()},dateFilter:function(){return this.getOrders()}},components:{DetailOrder:l(7909).default}}},7663:(t,e,l)=>{l.d(e,{X:()=>K});var o=l(9726),n={class:"modal-dialog modal-xl",role:"document"},a={class:"modal-content"},d={class:"modal-header"},r={class:"modal-title",id:"exampleModalLiveLabel"},i={class:"modal-body"},s={class:"row"},u={class:"col-md-7"},c=(0,o.Lk)("label",{for:"status"},"Status:",-1),p=[(0,o.Fv)('<option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitado</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',6)],v={class:"col-md-5"},k=["disabled"],m={class:"row"},L={class:"col-md-7"},h={class:"card mt-2"},f={class:"card-header"},b=(0,o.Lk)("br",null,null,-1),_=(0,o.Lk)("br",null,null,-1),y={class:"card-body"},g={class:"table-responsive"},C={class:"table table-condensed"},D=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col"},"#"),(0,o.Lk)("th",{scope:"col"},"Produto"),(0,o.Lk)("th",{scope:"col"},"Quantidade"),(0,o.Lk)("th",{scope:"col"},"Valor"),(0,o.Lk)("th",{scope:"col"},"Total")])],-1),A=["src","alt"],E=(0,o.Lk)("td",{colspan:"4",align:"right"},[(0,o.Lk)("strong",null,"Subtotal")],-1),X={colspan:"4",align:"right"},O=(0,o.Lk)("td",{colspan:"4",align:"right"},[(0,o.Lk)("strong",null," Total ")],-1),R={class:"col-md-5"},w={class:"card mt-2"},S=(0,o.Lk)("div",{class:"card-header"},"Dados do cliente",-1),F={class:"card-body"},W={class:"row"},T={class:"col-md-5",style:{"font-size":"0.8rem"}},$=(0,o.Lk)("br",null,null,-1),x=(0,o.Lk)("br",null,null,-1),I=(0,o.Lk)("br",null,null,-1),U={key:0,class:"col-md-7",style:{"font-size":"0.8rem"}},P=(0,o.Lk)("br",null,null,-1),j=(0,o.Lk)("br",null,null,-1),q=(0,o.Lk)("br",null,null,-1),z=(0,o.Lk)("br",null,null,-1);function K(t,e,l,K,M,V){var N,Q,B,J,Y,G,H,Z,tt,et,lt,ot;return(0,o.uX)(),(0,o.CE)("div",{id:"exampleModalLive",class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLiveLabel",style:(0,o.Tr)({display:l.display})},[(0,o.Lk)("div",n,[(0,o.Lk)("div",a,[(0,o.Lk)("div",d,[(0,o.Lk)("h5",r,"Detalhes do Pedido "+(0,o.v_)(l.order.identify),1),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=function(){return V.closeDetails&&V.closeDetails.apply(V,arguments)})})]),(0,o.Lk)("div",i,[(0,o.Lk)("form",{action:"#",method:"POST",class:"form form-inline",onSubmit:e[2]||(e[2]=(0,o.D$)((function(){return V.updateStatus&&V.updateStatus.apply(V,arguments)}),["prevent"]))},[(0,o.Lk)("div",s,[(0,o.Lk)("div",u,[c,(0,o.bo)((0,o.Lk)("select",{name:"status",class:"form-control form-control-sm","onUpdate:modelValue":e[1]||(e[1]=function(t){return M.status=t})},p,512),[[o.u1,M.status]])]),(0,o.Lk)("div",v,[(0,o.Lk)("button",{type:"submit",class:"btn btn-sm btn-info mt-4",disabled:M.loading}," Atualizar Status ",8,k)])])],32),(0,o.Lk)("div",m,[(0,o.Lk)("div",L,[(0,o.Lk)("div",h,[(0,o.Lk)("div",f,[(0,o.eW)(" Número do pedido: "+(0,o.v_)(l.order.identify)+" ",1),b,(0,o.eW)(" Data: "+(0,o.v_)(l.order.date_br)+" ",1),_,(0,o.eW)(" Status: "+(0,o.v_)(l.order.status_label),1)]),(0,o.Lk)("div",y,[(0,o.Lk)("div",g,[(0,o.Lk)("table",C,[D,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.order.products,(function(t,e){return(0,o.uX)(),(0,o.CE)("tr",{key:e},[(0,o.Lk)("td",null,[(0,o.Lk)("img",{src:t.image,alt:t.title,style:{"max-width":"50px"}},null,8,A)]),(0,o.Lk)("td",null,(0,o.v_)(t.title),1),(0,o.Lk)("td",null,(0,o.v_)(t.qty),1),(0,o.Lk)("td",null,"R$ "+(0,o.v_)(t.price),1),(0,o.Lk)("td",null,"R$ "+(0,o.v_)(t.qty*t.price),1)])})),128))]),(0,o.Lk)("tfoot",null,[(0,o.Lk)("tr",null,[E,(0,o.Lk)("td",null," R$ "+(0,o.v_)(V.subtotal),1)]),(0,o.Lk)("tr",null,[(0,o.Lk)("td",X,[(0,o.Lk)("strong",null,(0,o.v_)(null===(N=l.order)||void 0===N||null===(N=N.shipping_method)||void 0===N?void 0:N.description),1)]),(0,o.Lk)("td",null," R$ "+(0,o.v_)(null===(Q=l.order)||void 0===Q||null===(Q=Q.shipping_method)||void 0===Q?void 0:Q.price),1)]),(0,o.Lk)("tr",null,[O,(0,o.Lk)("td",null," R$ "+(0,o.v_)(l.order.total),1)])])])])])])]),(0,o.Lk)("div",R,[(0,o.Lk)("div",w,[S,(0,o.Lk)("div",F,[(0,o.Lk)("div",W,[(0,o.Lk)("div",T,[(0,o.eW)(" Cliente: "+(0,o.v_)(null===(B=l.order.client)||void 0===B?void 0:B.name)+" ",1),$,(0,o.eW)(" Email: "+(0,o.v_)(null===(J=l.order.client)||void 0===J?void 0:J.email)+" ",1),x,(0,o.eW)(" Celular: "+(0,o.v_)(l.order.client_mobile_phone)+" ",1),I,(0,o.eW)(" CPF: "+(0,o.v_)(l.order.client_doc),1)]),(null===(Y=l.order)||void 0===Y||null===(Y=Y.shipping_method)||void 0===Y?void 0:Y.description)!==M.RETIRADA?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.eW)(" Endereço: "+(0,o.v_)(null===(G=l.order.client_address)||void 0===G?void 0:G.address)+" - nº: "+(0,o.v_)(null===(H=l.order.client_address)||void 0===H?void 0:H.number),1),P,(0,o.eW)(" Complemento: "+(0,o.v_)(null===(Z=l.order.client_address)||void 0===Z?void 0:Z.complement)+" ",1),j,(0,o.eW)(" Bairro: "+(0,o.v_)(null===(tt=l.order.client_address)||void 0===tt?void 0:tt.district)+" ",1),q,(0,o.eW)(" CEP: "+(0,o.v_)(null===(et=l.order.client_address)||void 0===et?void 0:et.zip_code)+" ",1),z,(0,o.eW)(" "+(0,o.v_)(null===(lt=l.order.client_address)||void 0===lt?void 0:lt.city)+" - "+(0,o.v_)(null===(ot=l.order.client_address)||void 0===ot?void 0:ot.state),1)])):(0,o.Q3)("",!0)])])])])])])])])],4)}},1709:(t,e,l)=>{l.d(e,{X:()=>D});var o=l(9726),n={class:"card-header"},a={action:"#",method:"POST",class:"form form-inline"},d={class:"row"},r={class:"col-md-3"},i=(0,o.Lk)("label",{for:"status"},"Status:",-1),s=[(0,o.Fv)('<option value="all">Todos</option><option value="open">Aberto</option><option value="done">Completo</option><option value="rejected">Rejeitados</option><option value="working">Andamento</option><option value="canceled">Cancelado</option><option value="delivering">Em transito</option>',7)],u={class:"col-md-3"},c={class:"form-group"},p=(0,o.Lk)("label",{for:"date"},"Data:",-1),v={class:"card-body"},k={class:"table table-condensed"},m=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Número"),(0,o.Lk)("th",null,"Status entrega"),(0,o.Lk)("th",null,"Data"),(0,o.Lk)("th",null,"Detalhes"),(0,o.Lk)("th",{width:"270"},"Ações")])],-1),L={key:0},h={key:1},f=[(0,o.Lk)("span",{class:"alert alert-warning p-1"},"Retirada",-1)],b=(0,o.Lk)("br",null,null,-1),_=["onClick"],y=[(0,o.Lk)("i",{class:"fa-solid fa-eye"},null,-1)],g={key:0},C={key:1};function D(t,e,l,D,A,E){var X=(0,o.g2)("detail-order");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",n,[(0,o.Lk)("form",a,[(0,o.Lk)("div",d,[(0,o.Lk)("div",r,[i,(0,o.bo)((0,o.Lk)("select",{name:"status",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return A.status=t}),onChange:e[1]||(e[1]=(0,o.D$)((function(t){return E.getOrders()}),["prevent"]))},s,544),[[o.u1,A.status]])]),(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[p,(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return A.dateFilter=t}),onChange:e[3]||(e[3]=(0,o.D$)((function(t){return E.getOrders()}),["prevent"]))},null,544),[[o.Jo,A.dateFilter]])])])])])]),(0,o.Lk)("div",v,[(0,o.Lk)("table",k,[m,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(A.orders.data,(function(t,e){var l;return(0,o.uX)(),(0,o.CE)("tr",{key:e},[(0,o.Lk)("td",null,(0,o.v_)(t.identify),1),(null==t||null===(l=t.shipping_method)||void 0===l?void 0:l.description)!==A.RETIRADA?((0,o.uX)(),(0,o.CE)("td",L,(0,o.v_)(t.status_label),1)):((0,o.uX)(),(0,o.CE)("td",h,f)),(0,o.Lk)("td",null,(0,o.v_)(t.date_br),1),(0,o.Lk)("td",null,[t.payment_method.integration?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)((0,o.v_)(t.payment_method.integration)+" - "+(0,o.v_)(E.paymentTypeIntegration(t))+" ",1),b,(0,o.Lk)("b",null,"Status: "+(0,o.v_)(t.order_integration_transaction.status),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,o.v_)(t.payment_method.description),1)],64))]),(0,o.Lk)("td",null,[(0,o.Lk)("a",{href:"#",onClick:(0,o.D$)((function(e){return E.openDetails(t)}),["prevent"]),class:"btn btn-info btn-sm"},y,8,_)])])})),128))])]),A.loadingOrders?((0,o.uX)(),(0,o.CE)("div",g,"Carregando seus pedidos")):0==A.orders.data.length?((0,o.uX)(),(0,o.CE)("div",C,"Nenhum Pedido")):(0,o.Q3)("",!0)]),(0,o.bF)(X,{order:A.order,display:A.displayOrder,onCloseDetails:E.closeDetails,onStatusUpdated:E.statusUpdated},null,8,["order","display","onCloseDetails","onStatusUpdated"])])}},6262:(t,e)=>{e.A=(t,e)=>{const l=t.__vccOpts||t;for(const[t,o]of e)l[t]=o;return l}},7909:(t,e,l)=>{l.r(e),l.d(e,{default:()=>a});var o=l(7754),n=l(5380);const a=(0,l(6262).A)(n.A,[["render",o.X]])},4400:(t,e,l)=>{l.r(e),l.d(e,{default:()=>a});var o=l(9008),n=l(4857);const a=(0,l(6262).A)(n.A,[["render",o.X]])},5380:(t,e,l)=>{l.d(e,{A:()=>o.A});var o=l(937)},4857:(t,e,l)=>{l.d(e,{A:()=>o.A});var o=l(1540)},7754:(t,e,l)=>{l.d(e,{X:()=>o.X});var o=l(7663)},9008:(t,e,l)=>{l.d(e,{X:()=>o.X});var o=l(1709)}}]);