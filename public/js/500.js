"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[500],{3949:(e,o,r)=>{r.d(o,{A:()=>a});var t=r(6314),n=r.n(t)()((function(e){return e[1]}));n.push([e.id,".save_button[data-v-2e871de6]{background:var(--2b78ed56)!important;border-radius:25px!important;color:var(--1ab54360)!important}.save_button[data-v-2e871de6]:hover{background:var(--5a34a1d2)!important}",""]);const a=n},6262:(e,o)=>{o.A=(e,o)=>{const r=e.__vccOpts||e;for(const[e,t]of o)r[e]=t;return r}},4500:(e,o,r)=>{r.r(o),r.d(o,{default:()=>Y});var t=r(9726),n=function(e){return(0,t.Qi)("data-v-2e871de6"),e=e(),(0,t.jt)(),e},a={class:"container pt-5 pb-3"},s=n((function(){return(0,t.Lk)("div",{class:"my-4"},[(0,t.Lk)("h4",{class:"title-tenant"},"Minha conta")],-1)})),i={class:"my-orders my-4"},c={class:"row"},u={class:"col-md-7"},l={class:"card p-3"},m={class:"form-group mt-2"},d=n((function(){return(0,t.Lk)("label",null,"Nome:",-1)})),f={key:0,class:"form-text text-danger"},p={class:"form-group mt-2"},h=n((function(){return(0,t.Lk)("label",null,"Email: *",-1)})),v={class:"form-group mt-2"},b=n((function(){return(0,t.Lk)("label",null,"Celular: *",-1)})),w={key:0,class:"form-text text-danger"},_={class:"form-group mt-2"},y=n((function(){return(0,t.Lk)("label",null,"CPF: *",-1)})),k={key:0,class:"form-text text-danger"},g={class:"d-flex justify-content-end"},L=["disabled"],C={key:0},S={key:1},A={class:"col-md-5"},P={class:"card p-3"},j={class:"form-group mt-2"},O=n((function(){return(0,t.Lk)("label",null,"Nova senha:",-1)})),x={key:0,class:"form-text text-danger"},E={class:"form-group mt-2"},X=n((function(){return(0,t.Lk)("label",null,"Confirme a nova senha:",-1)})),D={key:0,class:"form-text text-danger"},F={class:"d-flex justify-content-end"},U=["disabled"],J={key:0},Q={key:1};var R=r(834),V=r(7695);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function N(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,t)}return r}function $(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?N(Object(r),!0).forEach((function(o){z(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function z(e,o,r){return(o=function(e){var o=function(e,o){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,o||"default");if("object"!=I(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==I(o)?o:o+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var H={props:[],components:{},data:function(){return{loading:!1,canSaveAccount:!1,form:{name:"",email:"",mobile_phone:"",cpf:""},formPassword:{new_password:"",new_password_confirm:""},errors:{name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}},computed:$({},(0,R.aH)({paleta:function(e){return e.layout.paleta},me:function(e){return e.auth.me}})),created:function(){},mounted:function(){},methods:$($({},(0,R.i0)(["updateAccount","updatePassword"])),{},{updateC:function(){var e=this;if(this.reset(),this.validateForm(),this.canSaveAccount){this.loading=!0;var o={name:this.form.name,email:this.form.email,mobile_phone:this.encode(this.form.mobile_phone),cpf:this.encode(this.form.cpf)};this.updateAccount(o).then((function(){V.oR.success("Conta atualizado com sucesso",{autoClose:3e3})})).catch((function(o){var r=o.response;e.errors=Object.assign(e.errors,r.data.errors),V.oR.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1}))}},updatePasswordAccoutn:function(){var e=this;this.reset(),this.validateForm(),this.canSaveAccount&&(this.loading=!0,this.updatePassword(this.formPassword).then((function(){V.oR.success("Senha atualizado com sucesso",{autoClose:3e3})})).catch((function(o){var r=o.response;e.errors=Object.assign(e.errors,r.data.errors),V.oR.error("Falha na operação",{autoClose:5e3})})).finally((function(){e.loading=!1})))},validadeFormPassword:function(){if(this.form.new_password.length<8)return this.canSaveAccount=!1,this.errors.new_password=["A senha precisa ter no mínimo 8 caracteres"];this.form.new_password!==this.form.new_password_confirm&&(this.canSaveAccount=!1,this.errors.new_password=["A senha e confirmação da senha precisam ser iguais"],this.errors.new_password_confirm=["A senha e confirmação da senha precisam ser iguais"]),this.canSaveAccount=!0},validateForm:function(){return this.form.mobile_phone!==this.decode(this.me.mobile_phone)&&this.form.mobile_phone.length<15?(this.canSaveAccount=!1,this.errors.mobile_phone=["Informe um tefone celular válido"]):this.form.name!==this.me.name&&this.form.name.length<3?(this.canSaveAccount=!1,this.errors.name=["Informe um nome válido"]):void(this.canSaveAccount=!0)},b64:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,o){return String.fromCharCode("0x"+o)})))},b64D:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},reverse:function(e){return e.split("").reverse().join("")},decode:function(e){e=this.reverse(e);for(var o=0;10!==o;)e=this.b64D(e),o++;return e},encode:function(e){for(var o=0;10!==o;)e=this.b64(e),o++;return this.reverse(e)},reset:function(){this.errors={name:"",mobile_phone:"",cpf:"",new_password:"",new_password_confirm:""}}}),watch:{me:function(){this.form.name=this.me.name,this.form.email=this.me.email,this.form.mobile_phone=this.decode(this.me.mobile_phone),this.form.cpf=this.decode(this.me.doc)}}},M=function(){(0,t.$9)((function(e){return{"2b78ed56":e.paleta.btn_color,"1ab54360":e.paleta.btn_color_letter,"5a34a1d2":e.paleta.btn_color_hover}}))},T=H.setup;H.setup=T?function(e,o){return M(),T(e,o)}:M;const q=H;var B=r(5072),G=r.n(B),K=r(3949),W={insert:"head",singleton:!1};G()(K.A,W);K.A.locals;const Y=(0,r(6262).A)(q,[["render",function(e,o,r,n,R,V){var I=(0,t.gN)("mask");return(0,t.uX)(),(0,t.CE)("div",a,[s,(0,t.Lk)("div",i,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("div",l,[(0,t.Lk)("div",m,[d,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=function(o){return e.form.name=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.form.name]]),""!=e.errors.name?((0,t.uX)(),(0,t.CE)("div",f,(0,t.v_)(e.errors.name[0]||""),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",p,[h,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=function(o){return e.form.email=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.form.email]])]),(0,t.Lk)("div",v,[b,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.mobile_phone=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.form.mobile_phone],[I,"(##) #####-####"]]),""!=e.errors.mobile_phone?((0,t.uX)(),(0,t.CE)("div",w,(0,t.v_)(e.errors.mobile_phone[0]||""),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",_,[y,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.cpf=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.form.cpf],[I,"###.###.###-##"]]),""!=e.errors.cpf?((0,t.uX)(),(0,t.CE)("div",k,(0,t.v_)(e.errors.cpf[0]||""),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",g,[(0,t.Lk)("button",{type:"button",class:"btn save_button mt-2",onClick:o[4]||(o[4]=(0,t.D$)((function(e){return V.updateC()}),["prevent"])),disabled:e.loading},[e.loading?((0,t.uX)(),(0,t.CE)("span",C,"Salvando...")):((0,t.uX)(),(0,t.CE)("span",S," Salvar"))],8,L)])])]),(0,t.Lk)("div",A,[(0,t.Lk)("div",P,[(0,t.Lk)("div",j,[O,(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formPassword.new_password=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.formPassword.new_password]]),""!=e.errors.new_password?((0,t.uX)(),(0,t.CE)("div",x,(0,t.v_)(e.errors.new_password[0]||""),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",E,[X,(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formPassword.new_password_confirm=o}),class:"form-control form-control-sm"},null,512),[[t.Jo,e.formPassword.new_password_confirm]]),""!=e.errors.new_password_confirm?((0,t.uX)(),(0,t.CE)("div",D,(0,t.v_)(e.errors.new_password_confirm[0]||""),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",F,[(0,t.Lk)("button",{type:"button",class:"btn save_button mt-2",onClick:o[7]||(o[7]=(0,t.D$)((function(e){return V.updatePasswordAccoutn()}),["prevent"])),disabled:e.loading},[e.loading?((0,t.uX)(),(0,t.CE)("span",J,"Salvando...")):((0,t.uX)(),(0,t.CE)("span",Q," Salvar"))],8,U)])])])])])])}],["__scopeId","data-v-2e871de6"]])}}]);