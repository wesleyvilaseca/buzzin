"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[632],{640:(e,t,a)=>{a.d(t,{A:()=>r});var o=a(7695);const r={props:{tenant:Object,plan:Object},components:{},created:function(){var e=this,t=document.createElement("script");t.src="https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js",t.addEventListener("load",(function(){window.Mercadopago.setPublishableKey(e.tenant.mpkey)})),document.body.appendChild(t);var a=document.querySelector("iframe");a&&(document.body.removeChild(a),document.body.removeChild(t))},mounted:function(){},data:function(){return{loadPayment:!1,firstname:"",lastname:"",cpf:"",email:"",errors:{cpf:"",firsname:"",lastname:"",email:""},qrcode:{}}},computed:{},methods:{pay:function(e,t){var a=this;this.reset(),this.loadPayment=!0,axios.post("/api/v1/pix",{first_name:this.firstname,last_name:this.lastname,plan_id:this.plan.id,payment_method_id:"pix",email:this.email,cpf:this.cpf.replace(/[^a-zA-Z0-9]/g,"")}).then((function(e){var t=e.data;o.oR.success("Pix gerado com sucesso",{autoClose:3e3}),a.qrcode=t.data})).catch((function(e){a.clearCardForm();var t=e.response;a.errors=Object.assign(a.errors,t.data.errors),o.oR.error("Falha na operação",{autoClose:5e3})})).finally((function(){a.loadPayment=!1}))},validateForm:function(){var e;return this.firstname?this.lastname?this.email?this.cpf?(null===(e=this.cpf)||void 0===e?void 0:e.length)<14?(this.canSaveAddress=!1,this.errors.cpf=["A quantida de caracteres informádo é inválido"]):void(this.canSaveAddress=!0):(this.canSaveAddress=!1,this.errors.cpf=["O CPF é um campo obrigatório"]):(this.canSave=!1,this.errors.district=["O email é um campo obrigatório"]):(this.canSave=!1,this.errors.city=["O sobrenome é um campo obrigatório"]):(this.canSave=!1,this.errors.state=["O nome é um campo obrigatório"])},clearCardForm:function(){this.loadPayment=!1,this.firstname="",this.lastname="",this.cpf="",this.email=""},reset:function(){this.errors.cpf=""}},watch:{}}},5519:(e,t,a)=>{a.d(t,{X:()=>w});var o=a(9726),r={id:"pay"},s={key:0,class:"row"},n={class:"form-group mt-2 col-md-12"},c=(0,o.Lk)("label",{class:"mb-1"}," Nome ",-1),i={key:0,class:"form-text text-danger"},l={class:"form-group mt-2 col-md-12"},d=(0,o.Lk)("label",{class:"mb-1"}," Sobrenome ",-1),m={key:0,class:"form-text text-danger"},u={class:"form-group mt-2 col-md-12"},p=(0,o.Lk)("label",{class:"mb-1"},"EMAIL:",-1),f={key:0,class:"form-text text-danger"},v={class:"form-group mt-2 col-md-12"},h=(0,o.Lk)("label",{class:"mb-1"},"CPF:",-1),b={key:0,class:"form-text text-danger"},k=(0,o.Lk)("input",{id:"docType",value:"CPF","data-checkout":"docType",type:"hidden"},null,-1),y=["value"],g={class:"text-right mt-2 d-grid gap-2"},L=["disabled"],x={key:1},C={class:"qrcode text-center p-2"},_=(0,o.Lk)("div",{class:"title"},"Qrcode",-1),P={class:"image"},A=["src"],q={class:"copie"},X={class:"mb-3"},E=(0,o.Lk)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Copie:",-1),F={class:"form-control",id:"exampleFormControlTextarea1",rows:"6",readonly:""};function w(e,t,a,w,O,S){var j,Q=(0,o.gN)("mask");return(0,o.uX)(),(0,o.CE)("form",r,[null!==(j=O.qrcode)&&void 0!==j&&j.qrcode64?((0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",C,[_,(0,o.Lk)("div",P,[(0,o.Lk)("img",{src:"data:image/jpeg;base64,".concat(O.qrcode.qrcode64),style:{"max-width":"300px"},id:"base64image"},null,8,A)])]),(0,o.Lk)("div",q,[(0,o.Lk)("div",X,[E,(0,o.Lk)("textarea",F,(0,o.v_)(O.qrcode.qrcode),1)])])])):((0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",n,[c,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return O.firstname=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,O.firstname]]),""!=O.errors.firsname?((0,o.uX)(),(0,o.CE)("div",i,(0,o.v_)(e.firsname.cpf[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",l,[d,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return O.lastname=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,O.lastname]]),""!=O.errors.lastname?((0,o.uX)(),(0,o.CE)("div",m,(0,o.v_)(O.lastname.cpf[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",u,[p,(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return O.email=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,O.email]]),""!=O.errors.email?((0,o.uX)(),(0,o.CE)("div",f,(0,o.v_)(O.errors.email[0]||""),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",v,[h,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return O.cpf=e}),class:"form-control form-control-sm"},null,512),[[o.Jo,O.cpf],[Q,"###.###.###-##"]]),""!=O.errors.cpf?((0,o.uX)(),(0,o.CE)("div",b,(0,o.v_)(O.errors.cpf[0]||""),1)):(0,o.Q3)("",!0),k,(0,o.Lk)("input",{id:"docNumber",value:O.cpf,"data-checkout":"docNumber",type:"hidden"},null,8,y)]),(0,o.Lk)("div",g,[(0,o.Lk)("button",{type:"submit",id:"form-checkout__submit",class:"btn btn-success",disabled:O.loadPayment,onClick:t[4]||(t[4]=(0,o.D$)((function(){return S.pay&&S.pay.apply(S,arguments)}),["prevent"]))},(0,o.v_)(O.loadPayment?"Processando...":"Pagar"),9,L)])]))])}},6262:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,o]of t)a[e]=o;return a}},8632:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var o=a(6718),r=a(9857);const s=(0,a(6262).A)(r.A,[["render",o.X]])},9857:(e,t,a)=>{a.d(t,{A:()=>o.A});var o=a(640)},6718:(e,t,a)=>{a.d(t,{X:()=>o.X});var o=a(5519)}}]);